{
  "id": 15551,
  "game_id": 23668,
  "game_slug": "companions-of-xanth",
  "name": "Companions of Xanth",
  "year": 1993,
  "user": "appoloin",
  "runner": "dosbox",
  "slug": "companions-of-xanth-ms-dos",
  "version": "MS-DOS",
  "description": null,
  "notes": "",
  "created_at": "2019-09-14T20:57:53.368001Z",
  "updated_at": "2020-04-24T06:47:14.963368Z",
  "draft": false,
  "published": true,
  "published_by": null,
  "rating": "",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "files": [
      {
        "game": "N/A:Select the file Install.EXE"
      }
    ],
    "game": {
      "main_file": "$GAMEDIR/Xanth.conf"
    },
    "installer": [
      {
        "execute": {
          "file": "mkdir",
          "args": "$GAMEDIR/HDD $GAMEDIR/CDD  $GAMEDIR/CDD/DISK1"
        }
      },
      {
        "write_file": {
          "file": "$CACHE/bulkcopy.sh",
          "content": "#!/bin/bash\nsrc=$1\ndst=$2\nsrc_path=$(echo \"$1\" | sed -r \"s/(.+)\\/.+/\\1/\")\ncp -avr \"$src_path/.\"  \"$dst\""
        }
      },
      {
        "chmodx": "$CACHE/bulkcopy.sh"
      },
      {
        "execute": {
          "file": "$CACHE/bulkcopy.sh",
          "args": "$game $GAMEDIR/CDD/DISK1"
        }
      },
      {
        "write_file": {
          "file": "$GAMEDIR/Xanth-setup.conf",
          "content": "[sdl]\nsensitivity=20\n[autoexec]\nmount D \"$GAMEDIR/CDD/DISK1\" -t cdrom\nmount C \"$GAMEDIR/HDD\" -t dir\nD:\ninstall\nexit"
        }
      },
      {
        "task": {
          "config_file": "$GAMEDIR/Xanth-setup.conf",
          "name": "dosexec",
          "working_dir": "$GAMEDIR/HDD/"
        }
      },
      {
        "write_file": {
          "file": "$GAMEDIR/Xanth.conf",
          "content": "[dosbox]\nmachine = svga_et4000\n[sdl]\nsensitivity=20\n[autoexec]\nmount D \"$GAMEDIR/CDD/DISK1\" -t cdrom\nmount C \"$GAMEDIR/HDD\" -t dir\nC:\ncd Xanth\nXanth.exe\nexit"
        }
      }
    ]
  },
  "content": "files:\n- game: N/A:Select the file Install.EXE\ngame:\n  main_file: $GAMEDIR/Xanth.conf\ninstaller:\n- execute:\n    args: $GAMEDIR/HDD $GAMEDIR/CDD  $GAMEDIR/CDD/DISK1\n    file: mkdir\n- write_file:\n    content: '#!/bin/bash\n\n      src=$1\n\n      dst=$2\n\n      src_path=$(echo \"$1\" | sed -r \"s/(.+)\\/.+/\\1/\")\n\n      cp -avr \"$src_path/.\"  \"$dst\"'\n    file: $CACHE/bulkcopy.sh\n- chmodx: $CACHE/bulkcopy.sh\n- execute:\n    args: $game $GAMEDIR/CDD/DISK1\n    file: $CACHE/bulkcopy.sh\n- write_file:\n    content: '[sdl]\n\n      sensitivity=20\n\n      [autoexec]\n\n      mount D \"$GAMEDIR/CDD/DISK1\" -t cdrom\n\n      mount C \"$GAMEDIR/HDD\" -t dir\n\n      D:\n\n      install\n\n      exit'\n    file: $GAMEDIR/Xanth-setup.conf\n- task:\n    config_file: $GAMEDIR/Xanth-setup.conf\n    name: dosexec\n    working_dir: $GAMEDIR/HDD/\n- write_file:\n    content: '[dosbox]\n\n      machine = svga_et4000\n\n      [sdl]\n\n      sensitivity=20\n\n      [autoexec]\n\n      mount D \"$GAMEDIR/CDD/DISK1\" -t cdrom\n\n      mount C \"$GAMEDIR/HDD\" -t dir\n\n      C:\n\n      cd Xanth\n\n      Xanth.exe\n\n      exit'\n    file: $GAMEDIR/Xanth.conf\n"
}