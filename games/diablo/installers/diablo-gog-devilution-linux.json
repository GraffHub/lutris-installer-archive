{
  "id": 14113,
  "game_id": 5826,
  "game_slug": "diablo",
  "name": "Diablo",
  "year": 1996,
  "user": "Haringat",
  "runner": "linux",
  "slug": "diablo-gog-devilution-linux",
  "version": "GOG + Devilution (Linux native)",
  "description": "extracts the game files from the GOG installer and runs the game using the linux version of devilution.",
  "notes": "",
  "created_at": "2019-06-15T20:29:06.302000Z",
  "updated_at": "2020-01-11T08:24:03.030632Z",
  "draft": true,
  "published": false,
  "published_by": 494,
  "rating": "",
  "steamid": null,
  "gogid": 1412601690,
  "gogslug": "diablo",
  "humblestoreid": "",
  "script": {
    "installer": [
      {
        "extract": {
          "dst": "$CACHE/",
          "file": "inno"
        }
      },
      {
        "execute": {
          "description": "extracting game data",
          "command": "$CACHE/innoextract -d $CACHE/diabloinstaller \"$installer\";"
        }
      },
      {
        "extract": {
          "description": "extracting devilution",
          "dst": "$GAMEDIR/devilution",
          "file": "$devilutionx"
        }
      },
      {
        "extract": {
          "description": "extracting dsl",
          "dst": "$GAMEDIR/steamsdl",
          "file": "steamsdl"
        }
      },
      {
        "move": {
          "src": "$CACHE/diabloinstaller/DIABDAT.MPQ",
          "dst": "$GAMEDIR/devilution/diabdat.mpq",
          "description": "moving the game files"
        }
      },
      {
        "write_file": {
          "content": "#!/bin/sh\n",
          "file": "$GAMEDIR/devilution.sh"
        }
      },
      {
        "write_file": {
          "content": "LD_LIBRARY_PATH=$GAMEDIR/steamsdl $GAMEDIR/devilution/devilutionx",
          "file": "$GAMEDIR/devilution.sh",
          "mode": "a"
        }
      },
      {
        "chmodx": "$GAMEDIR/devilution.sh"
      }
    ],
    "files": [
      {
        "installer": "N/A:Please select the GOG installer"
      },
      {
        "devilution": "https://github.com/diasurgical/devilutionX/releases/download/1.0.0/devilutionx-linux-x86_64.7z"
      },
      {
        "inno": "https://github.com/NickZ/misc/raw/master/innobin.zip"
      },
      {
        "steamsdl": "https://github.com/NickZ/misc/raw/master/steamsdl.zip"
      }
    ],
    "game": {
      "exe": "$GAMEDIR/devilution.sh"
    }
  },
  "content": "files:\r\n- installer: N/A:Please select the GOG installer\r\n- devilution: https://github.com/diasurgical/devilutionX/releases/download/1.0.0/devilutionx-linux-x86_64.7z\r\n- inno: https://github.com/NickZ/misc/raw/master/innobin.zip\r\n- steamsdl: https://github.com/NickZ/misc/raw/master/steamsdl.zip\r\ngame:\r\n  exe: $GAMEDIR/devilution.sh\r\ninstaller:\r\n- extract:\r\n    dst: $CACHE/\r\n    file: inno\r\n- execute:\r\n    command: $CACHE/innoextract -d $CACHE/diabloinstaller \"$installer\";\r\n    description: extracting game data\r\n- extract:\r\n    description: extracting devilution\r\n    dst: $GAMEDIR/devilution\r\n    file: $devilutionx\r\n- extract:\r\n    description: extracting dsl\r\n    dst: $GAMEDIR/steamsdl\r\n    file: steamsdl\r\n- move:\r\n    description: moving the game files\r\n    dst: $GAMEDIR/devilution/diabdat.mpq\r\n    src: $CACHE/diabloinstaller/DIABDAT.MPQ\r\n- write_file:\r\n    content: '#!/bin/sh\r\n\r\n      '\r\n    file: $GAMEDIR/devilution.sh\r\n- write_file:\r\n    content: LD_LIBRARY_PATH=$GAMEDIR/steamsdl $GAMEDIR/devilution/devilutionx\r\n    file: $GAMEDIR/devilution.sh\r\n    mode: a\r\n- chmodx: $GAMEDIR/devilution.sh"
}