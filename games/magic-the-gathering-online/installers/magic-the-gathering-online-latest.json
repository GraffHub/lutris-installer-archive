{
  "id": 16253,
  "game_id": 16435,
  "game_slug": "magic-the-gathering-online",
  "name": "Magic The Gathering Online",
  "year": null,
  "user": "xatrekak",
  "runner": "wine",
  "slug": "magic-the-gathering-online-latest",
  "version": "LATEST",
  "description": "New installer that automatically accounts for the randomly generated path names.\r\n\r\nIt also correctly uses the setup.exe to launch the game and not MTGO.exe so it actually works and should install much quicker.",
  "notes": "",
  "created_at": "2019-10-17T05:58:07.548000Z",
  "updated_at": "2020-01-23T02:57:15.821272Z",
  "draft": false,
  "published": true,
  "published_by": 19464,
  "rating": "",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "files": [
      {
        "setup": {
          "filename": "setup.exe",
          "url": "http://mtgoclientdepot.onlinegaming.wizards.com/setup.exe"
        }
      }
    ],
    "game": {
      "prefix": "$GAMEDIR",
      "exe": "$GAMEDIR/drive_c/MTGO/setup.exe"
    },
    "installer": [
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "create_prefix",
          "arch": "win32"
        }
      },
      {
        "task": {
          "description": "Simulating Windows reboot.",
          "name": "wineexec",
          "arch": "win32",
          "executable": "wineboot",
          "prefix": "$GAMEDIR"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "sound=pulse winegstreamer=builtin"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "corefonts"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "dotnet46"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "win7"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "gdiplus"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "gdiplus=native"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win32",
          "app": "ddr=gdi"
        }
      },
      {
        "task": {
          "description": "Simulating Windows reboot.",
          "name": "wineexec",
          "arch": "win32",
          "executable": "wineboot",
          "args": "-s",
          "prefix": "$GAMEDIR"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "wineexec",
          "arch": "win32",
          "exclude_processes": "dfsvc.exe",
          "executable": "setup"
        }
      },
      {
        "execute": {
          "command": "find $GAMEDIR/drive_c/ -name 'MTGO.exe' -exec sh -c 'ln -vs \"$(dirname \"$0\")\" \"$1\" | cut -c 2-' {} $GAMEDIR/drive_c/MTGO \\;"
        }
      },
      {
        "merge": {
          "dst": "$GAMEDIR/drive_c/MTGO",
          "src": "setup"
        }
      }
    ],
    "system": {
      "single_cpu": true
    }
  },
  "content": "files:\n- setup:\n    filename: setup.exe\n    url: http://mtgoclientdepot.onlinegaming.wizards.com/setup.exe\ngame:\n  exe: $GAMEDIR/drive_c/MTGO/setup.exe\n  prefix: $GAMEDIR\ninstaller:\n- task:\n    arch: win32\n    name: create_prefix\n    prefix: $GAMEDIR\n- task:\n    arch: win32\n    description: Simulating Windows reboot.\n    executable: wineboot\n    name: wineexec\n    prefix: $GAMEDIR\n- task:\n    app: sound=pulse winegstreamer=builtin\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    app: corefonts\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    app: dotnet46\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    app: win7\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    app: gdiplus\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    app: gdiplus=native\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    app: ddr=gdi\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    arch: win32\n    args: -s\n    description: Simulating Windows reboot.\n    executable: wineboot\n    name: wineexec\n    prefix: $GAMEDIR\n- task:\n    arch: win32\n    exclude_processes: dfsvc.exe\n    executable: setup\n    name: wineexec\n    prefix: $GAMEDIR\n- execute:\n    command: find $GAMEDIR/drive_c/ -name 'MTGO.exe' -exec sh -c 'ln -vs \"$(dirname\n      \"$0\")\" \"$1\" | cut -c 2-' {} $GAMEDIR/drive_c/MTGO \\;\n- merge:\n    dst: $GAMEDIR/drive_c/MTGO\n    src: setup\nsystem:\n  single_cpu: true\n"
}