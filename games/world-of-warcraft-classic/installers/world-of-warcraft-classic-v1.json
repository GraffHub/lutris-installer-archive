{
  "id": 16909,
  "game_id": 28594,
  "game_slug": "world-of-warcraft-classic",
  "name": "World of Warcraft (Classic)",
  "year": 2019,
  "user": "Lycrus",
  "runner": "wine",
  "slug": "world-of-warcraft-classic-v1",
  "version": "v1",
  "description": "This is WoW for Chinese players.",
  "notes": "**IMPORTANT: INSTALL THE DEPENDENCIES FIRST**\r\nRead: Game: World-of-Warcraft before trying to install World of Warcraft. And install the needed dependencies for Wine into your system. Also, make sure you have Vulkan set up correctly.\r\nSame steps as with WoW retail, if you've already installed retail successfully you can just download Classic within your Battle.net launcher.",
  "created_at": "2019-11-20T16:16:37.788000Z",
  "updated_at": "2020-01-23T02:57:22.271409Z",
  "draft": false,
  "published": true,
  "published_by": 20548,
  "rating": "",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "game": {
      "exe": "drive_c/Program Files (x86)/Battle.net/Battle.net.exe",
      "arch": "win64",
      "prefix": "$GAMEDIR"
    },
    "system": {
      "exclude_processes": "Agent.exe \"Battle.net Helper.exe\"",
      "env": {
        "__GL_SHADER_DISK_CACHE_PATH": "$GAMEDIR",
        "__GL_SHADER_DISK_CACHE": 1,
        "DXVK_HUD": "compiler",
        "DXVK_STATE_CACHE_PATH": "$GAMEDIR",
        "STAGING_SHARED_MEMORY": 1
      }
    },
    "wine": {
      "esync": true,
      "overrides": {
        "ucrtbase": "n,b",
        "nvapi64": "disabled",
        "d3d12": "disabled",
        "api-ms-win-crt-private-l1-1-0": "n,b",
        "nvapi": "disabled"
      },
      "dxvk": true
    },
    "installer": [
      {
        "task": {
          "arch": "win64",
          "description": "Creating 64bit Wine prefix.",
          "prefix": "$GAMEDIR",
          "name": "create_prefix"
        }
      },
      {
        "task": {
          "app": "arial",
          "arch": "win64",
          "description": "Installing Arial font",
          "prefix": "$GAMEDIR",
          "name": "winetricks"
        }
      },
      {
        "task": {
          "arch": "win64",
          "description": "Setting Windows 10 mode for Wine",
          "prefix": "$GAMEDIR",
          "name": "set_regedit",
          "path": "HKEY_CURRENT_USER\\Software\\Wine",
          "value": "win10",
          "key": "Version"
        }
      },
      {
        "task": {
          "arch": "win64",
          "description": "Wine Staging: Enabling DXVA2",
          "prefix": "$GAMEDIR",
          "name": "set_regedit",
          "path": "HKEY_CURRENT_USER\\Software\\Wine\\DXVA2",
          "value": "va",
          "key": "backend"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      },
      {
        "write_json": {
          "file": "$GAMEDIR/drive_c/users/$USER/Application Data/Battle.net/Battle.net.config",
          "data": {
            "Client": {
              "HardwareAcceleration": "false",
              "Streaming": {
                "StreamingEnabled": "false"
              },
              "Sound": {
                "Enabled": "false"
              },
              "GameLaunchWindowBehavior": "2"
            }
          },
          "description": "Disabling Sound/Hardware Acceleration/Streaming in Blizzard App"
        }
      },
      {
        "task": {
          "executable": "setup",
          "exclude_processes": "Battle.net.exe Agent.exe \"Battle.net Helper.exe\"",
          "arch": "win64",
          "description": "Installing Blizzard App\n------------------------------\nDo not try to log into Battle.net. Lutris will automatically close the login window. After Lutris installer is finished, you can start Blizzard App with \"Launch the game\", and install / locate your Blizzard game.",
          "name": "wineexec"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      }
    ],
    "files": [
      {
        "setup": {
          "filename": "Battle.net-Setup-CN.exe",
          "url": "https://www.battlenet.com.cn/download/getInstaller?os=win&installer=Battle.net-Setup-CN.exe"
        }
      }
    ]
  },
  "content": "files:\n- setup:\n    filename: Battle.net-Setup-CN.exe\n    url: https://www.battlenet.com.cn/download/getInstaller?os=win&installer=Battle.net-Setup-CN.exe\ngame:\n  arch: win64\n  exe: drive_c/Program Files (x86)/Battle.net/Battle.net.exe\n  prefix: $GAMEDIR\ninstaller:\n- task:\n    arch: win64\n    description: Creating 64bit Wine prefix.\n    name: create_prefix\n    prefix: $GAMEDIR\n- task:\n    app: arial\n    arch: win64\n    description: Installing Arial font\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    arch: win64\n    description: Setting Windows 10 mode for Wine\n    key: Version\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\n    prefix: $GAMEDIR\n    value: win10\n- task:\n    arch: win64\n    description: 'Wine Staging: Enabling DXVA2'\n    key: backend\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\\DXVA2\n    prefix: $GAMEDIR\n    value: va\n- task:\n    name: winekill\n    prefix: $GAMEDIR\n- write_json:\n    data:\n      Client:\n        GameLaunchWindowBehavior: '2'\n        HardwareAcceleration: 'false'\n        Sound:\n          Enabled: 'false'\n        Streaming:\n          StreamingEnabled: 'false'\n    description: Disabling Sound/Hardware Acceleration/Streaming in Blizzard App\n    file: $GAMEDIR/drive_c/users/$USER/Application Data/Battle.net/Battle.net.config\n- task:\n    arch: win64\n    description: 'Installing Blizzard App\n\n      ------------------------------\n\n      Do not try to log into Battle.net. Lutris will automatically close the login\n      window. After Lutris installer is finished, you can start Blizzard App with\n      \"Launch the game\", and install / locate your Blizzard game.'\n    exclude_processes: Battle.net.exe Agent.exe \"Battle.net Helper.exe\"\n    executable: setup\n    name: wineexec\n- task:\n    name: winekill\n    prefix: $GAMEDIR\nsystem:\n  env:\n    DXVK_HUD: compiler\n    DXVK_STATE_CACHE_PATH: $GAMEDIR\n    STAGING_SHARED_MEMORY: 1\n    __GL_SHADER_DISK_CACHE: 1\n    __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR\n  exclude_processes: Agent.exe \"Battle.net Helper.exe\"\nwine:\n  dxvk: true\n  esync: true\n  overrides:\n    api-ms-win-crt-private-l1-1-0: n,b\n    d3d12: disabled\n    nvapi: disabled\n    nvapi64: disabled\n    ucrtbase: n,b\n"
}