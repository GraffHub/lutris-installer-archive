{
  "id": 14746,
  "game_id": 28594,
  "game_slug": "world-of-warcraft-classic",
  "name": "World of Warcraft (Classic)",
  "year": 2019,
  "user": "galross",
  "runner": "wine",
  "slug": "world-of-warcraft-classic-battlenet",
  "version": "Battle.net",
  "description": "Platinum: installs and runs flawlessly",
  "notes": "**IMPORTANT: INSTALL THE DEPENDENCIES FIRST**\r\nRead: Game: World-of-Warcraft before trying to install World of Warcraft. And install the needed dependencies for Wine into your system. Also, make sure you have Vulkan set up correctly.\r\nSame steps as with WoW retail, if you've already installed retail successfully you can just download Classic within your Battle.net launcher.",
  "created_at": "2019-07-27T22:21:31.830000Z",
  "updated_at": "2020-01-23T02:56:54.729773Z",
  "draft": false,
  "published": true,
  "published_by": 51687,
  "rating": "",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "files": [
      {
        "setup": {
          "filename": "Battle.net-Setup-enUS.exe",
          "url": "http://dist.blizzard.com/downloads/bna-installers/322d5bb9ae0318de3d4cde7641c96425/retail.1/Battle.net-Setup-enUS.exe"
        }
      }
    ],
    "installer": [
      {
        "task": {
          "description": "Creating 64bit Wine prefix.",
          "name": "create_prefix",
          "arch": "win64",
          "prefix": "$GAMEDIR"
        }
      },
      {
        "task": {
          "description": "Installing Arial font",
          "name": "winetricks",
          "arch": "win64",
          "app": "arial",
          "prefix": "$GAMEDIR"
        }
      },
      {
        "task": {
          "description": "Setting Windows 10 mode for Wine",
          "name": "set_regedit",
          "arch": "win64",
          "key": "Version",
          "prefix": "$GAMEDIR",
          "path": "HKEY_CURRENT_USER\\Software\\Wine",
          "value": "win10"
        }
      },
      {
        "task": {
          "description": "Wine Staging: Enabling DXVA2",
          "name": "set_regedit",
          "arch": "win64",
          "key": "backend",
          "prefix": "$GAMEDIR",
          "path": "HKEY_CURRENT_USER\\Software\\Wine\\DXVA2",
          "value": "va"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      },
      {
        "write_json": {
          "description": "Disabling Sound/Hardware Acceleration/Streaming in Blizzard App",
          "data": {
            "Client": {
              "Sound": {
                "Enabled": "false"
              },
              "HardwareAcceleration": "false",
              "Streaming": {
                "StreamingEnabled": "false"
              },
              "GameLaunchWindowBehavior": "2"
            }
          },
          "file": "$GAMEDIR/drive_c/users/$USER/Application Data/Battle.net/Battle.net.config"
        }
      },
      {
        "task": {
          "description": "Installing Blizzard App\n------------------------------\nDo not try to log into Battle.net. Lutris will automatically close the login window. After Lutris installer is finished, you can start Blizzard App with \"Launch the game\", and install / locate your Blizzard game.",
          "name": "wineexec",
          "arch": "win64",
          "exclude_processes": "Battle.net.exe Agent.exe \"Battle.net Helper.exe\"",
          "executable": "setup"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      }
    ],
    "game": {
      "prefix": "$GAMEDIR",
      "arch": "win64",
      "exe": "drive_c/Program Files (x86)/Battle.net/Battle.net.exe"
    },
    "system": {
      "exclude_processes": "Agent.exe \"Battle.net Helper.exe\"",
      "env": {
        "STAGING_SHARED_MEMORY": 1,
        "__GL_SHADER_DISK_CACHE_PATH": "$GAMEDIR",
        "DXVK_HUD": "compiler",
        "__GL_SHADER_DISK_CACHE": 1,
        "DXVK_STATE_CACHE_PATH": "$GAMEDIR"
      }
    },
    "wine": {
      "dxvk": true,
      "esync": true,
      "overrides": {
        "nvapi64": "disabled",
        "nvapi": "disabled",
        "ucrtbase": "n,b",
        "api-ms-win-crt-private-l1-1-0": "n,b",
        "d3d12": "disabled"
      }
    }
  },
  "content": "files:\n- setup:\n    filename: Battle.net-Setup-enUS.exe\n    url: http://dist.blizzard.com/downloads/bna-installers/322d5bb9ae0318de3d4cde7641c96425/retail.1/Battle.net-Setup-enUS.exe\ngame:\n  arch: win64\n  exe: drive_c/Program Files (x86)/Battle.net/Battle.net.exe\n  prefix: $GAMEDIR\ninstaller:\n- task:\n    arch: win64\n    description: Creating 64bit Wine prefix.\n    name: create_prefix\n    prefix: $GAMEDIR\n- task:\n    app: arial\n    arch: win64\n    description: Installing Arial font\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    arch: win64\n    description: Setting Windows 10 mode for Wine\n    key: Version\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\n    prefix: $GAMEDIR\n    value: win10\n- task:\n    arch: win64\n    description: 'Wine Staging: Enabling DXVA2'\n    key: backend\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\\DXVA2\n    prefix: $GAMEDIR\n    value: va\n- task:\n    name: winekill\n    prefix: $GAMEDIR\n- write_json:\n    data:\n      Client:\n        GameLaunchWindowBehavior: '2'\n        HardwareAcceleration: 'false'\n        Sound:\n          Enabled: 'false'\n        Streaming:\n          StreamingEnabled: 'false'\n    description: Disabling Sound/Hardware Acceleration/Streaming in Blizzard App\n    file: $GAMEDIR/drive_c/users/$USER/Application Data/Battle.net/Battle.net.config\n- task:\n    arch: win64\n    description: 'Installing Blizzard App\n\n      ------------------------------\n\n      Do not try to log into Battle.net. Lutris will automatically close the login\n      window. After Lutris installer is finished, you can start Blizzard App with\n      \"Launch the game\", and install / locate your Blizzard game.'\n    exclude_processes: Battle.net.exe Agent.exe \"Battle.net Helper.exe\"\n    executable: setup\n    name: wineexec\n- task:\n    name: winekill\n    prefix: $GAMEDIR\nsystem:\n  env:\n    DXVK_HUD: compiler\n    DXVK_STATE_CACHE_PATH: $GAMEDIR\n    STAGING_SHARED_MEMORY: 1\n    __GL_SHADER_DISK_CACHE: 1\n    __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR\n  exclude_processes: Agent.exe \"Battle.net Helper.exe\"\nwine:\n  dxvk: true\n  esync: true\n  overrides:\n    api-ms-win-crt-private-l1-1-0: n,b\n    d3d12: disabled\n    nvapi: disabled\n    nvapi64: disabled\n    ucrtbase: n,b\n"
}