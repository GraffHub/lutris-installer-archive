{
  "id": 18755,
  "game_id": 1819,
  "game_slug": "dungeon-keeper",
  "name": "Dungeon Keeper",
  "year": 1997,
  "user": "Armageddon91",
  "runner": "wine",
  "slug": "dungeon-keeper-keeperfx-unofficial-",
  "version": "KeeperFX Unofficial 0.4.7",
  "description": "This script installs KeeperFX Unofficial by downloading Dungeon Keeper by GOG and patching it. You have to buy Dungeon Keeper by GOG for this to work.",
  "notes": "-KeeperFX Unofficial 0.4.7 (https://github.com/Loobinex/keeperfx-unofficial)\r\n-Need Dungeon Keeper from GOG\r\n-Starts launcher.exe after installation to make settings\r\n-Visit https://keeperklan.com for more Dungeon Keeper Content",
  "created_at": "2020-03-09T17:22:50.294000Z",
  "updated_at": "2020-04-26T15:06:01.251301Z",
  "draft": false,
  "published": true,
  "published_by": 20548,
  "rating": "",
  "steamid": null,
  "gogid": 1207658934,
  "gogslug": "dungeon_keeper",
  "humblestoreid": "",
  "script": {
    "custom-name": "KeeperFX Unofficial 0.4.7",
    "files": [
      {
        "game": "N/A:Select the installer downloaded from GOG."
      },
      {
        "keeperfx": "https://github.com/Loobinex/keeperfx-unofficial/releases/download/v1913/keeperfx_unofficial_0_4_7_complete.7z"
      },
      {
        "inno": "https://constexpr.org/innoextract/files/innoextract-1.8-linux.tar.xz"
      }
    ],
    "game": {
      "prefix": "$GAMEDIR",
      "exe": "$GAMEDIR/drive_c/KeeperFX/keeperfx.exe",
      "arch": "win32"
    },
    "installer": [
      {
        "task": {
          "prefix": "$GAMEDIR",
          "arch": "win32",
          "name": "create_prefix",
          "description": "Creating WINE prefix"
        }
      },
      {
        "extract": {
          "file": "$inno",
          "dst": "$CACHE"
        }
      },
      {
        "execute": {
          "file": "$CACHE/innoextract",
          "args": "-d \"$CACHE\" \"$game\""
        }
      },
      {
        "move": {
          "src": "$CACHE/DATA",
          "dst": "$GAMEDIR/drive_c/KeeperFX/data"
        }
      },
      {
        "move": {
          "src": "$CACHE/SOUND",
          "dst": "$GAMEDIR/drive_c/KeeperFX/sound"
        }
      },
      {
        "extract": {
          "file": "$keeperfx",
          "format": "7z",
          "dst": "$GAMEDIR/drive_c/KeeperFX/"
        }
      },
      {
        "copy": {
          "src": "$GAMEDIR/drive_c/KeeperFX/Levels",
          "dst": "$GAMEDIR/drive_c/KeeperFX/levels"
        }
      },
      {
        "execute": {
          "command": "rm -fr $GAMEDIR/drive_c/KeeperFX/Levels/"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "arch": "win32",
          "executable": "$GAMEDIR/drive_c/KeeperFX/launcher.exe",
          "name": "wineexec"
        }
      }
    ]
  },
  "content": "custom-name: KeeperFX Unofficial 0.4.7\nfiles:\n- game: N/A:Select the installer downloaded from GOG.\n- keeperfx: https://github.com/Loobinex/keeperfx-unofficial/releases/download/v1913/keeperfx_unofficial_0_4_7_complete.7z\n- inno: https://constexpr.org/innoextract/files/innoextract-1.8-linux.tar.xz\ngame:\n  arch: win32\n  exe: $GAMEDIR/drive_c/KeeperFX/keeperfx.exe\n  prefix: $GAMEDIR\ninstaller:\n- task:\n    arch: win32\n    description: Creating WINE prefix\n    name: create_prefix\n    prefix: $GAMEDIR\n- extract:\n    dst: $CACHE\n    file: $inno\n- execute:\n    args: -d \"$CACHE\" \"$game\"\n    file: $CACHE/innoextract\n- move:\n    dst: $GAMEDIR/drive_c/KeeperFX/data\n    src: $CACHE/DATA\n- move:\n    dst: $GAMEDIR/drive_c/KeeperFX/sound\n    src: $CACHE/SOUND\n- extract:\n    dst: $GAMEDIR/drive_c/KeeperFX/\n    file: $keeperfx\n    format: 7z\n- copy:\n    dst: $GAMEDIR/drive_c/KeeperFX/levels\n    src: $GAMEDIR/drive_c/KeeperFX/Levels\n- execute:\n    command: rm -fr $GAMEDIR/drive_c/KeeperFX/Levels/\n- task:\n    arch: win32\n    executable: $GAMEDIR/drive_c/KeeperFX/launcher.exe\n    name: wineexec\n    prefix: $GAMEDIR\n"
}