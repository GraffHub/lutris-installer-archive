{
  "id": 16980,
  "game_id": 320,
  "game_slug": "indiana-jones-and-the-last-crusade",
  "name": "Indiana Jones and the Last Crusade",
  "year": 1989,
  "user": "legluondunet",
  "runner": "scummvm",
  "slug": "indiana-jones-and-the-last-cr-gog",
  "version": "GOG",
  "description": "This script will install \"Indiana Jones and the Last Crusade\" GOG edition for ScummVM.\r\nDuring install please let all options by default.\r\nThanks to the people who contributed to play this game in the best conditions.",
  "notes": "- This script is only compatible with the game installation file for Windows in exe format provided by GOG.\r\n- Multilanguage: you could choose your preferred subtitles language during install between english (default), french, italian, spanish and german.\r\n- Please report issue concerning this script on my Github page:\r\nhttps://github.com/legluondunet/MyLittleLutrisScripts/",
  "created_at": "2019-11-23T21:54:39.621000Z",
  "updated_at": "2020-02-02T09:42:06.418134Z",
  "draft": false,
  "published": true,
  "published_by": 494,
  "rating": "",
  "steamid": 32310,
  "gogid": 1440410803,
  "gogslug": "indiana_jones_and_the_last_crusade",
  "humblestoreid": "",
  "script": {
    "game": {
      "game_id": "indy3",
      "path": "$GAMEDIR"
    },
    "custom-name": "Indiana Jones and the Last Crusade - GOG - ScummVM",
    "scummvm": {
      "fullscreen": true,
      "aspect": true
    },
    "installer": [
      {
        "extract": {
          "file": "inno",
          "dst": "$CACHE/innoextract"
        }
      },
      {
        "execute": {
          "file": "$CACHE/innoextract/innoextract",
          "args": "--extract $gog --output-dir \"$CACHE/\""
        }
      },
      {
        "execute": {
          "command": "cd $CACHE; ls | grep -i .lfl | xargs mv -t \"$GAMEDIR/\";"
        }
      },
      {
        "extract": {
          "dst": "$CACHE",
          "src": "multi5"
        }
      },
      {
        "input_menu": {
          "options": [
            {
              "en": "English"
            },
            {
              "fr": "French"
            },
            {
              "it": "Italian"
            },
            {
              "sp": "Spanish"
            },
            {
              "ge": "German"
            }
          ],
          "id": "LANG",
          "preselect": "en",
          "description": "Choose your preferred game's language:"
        }
      },
      {
        "execute": {
          "command": "cd $GAMEDIR; if [ \"$INPUT_LANG\" == \"en\" ]; then  exit ; fi ; echo \"lang = $INPUT_LANG\"; for i in *.LFL ; do echo \"traitement du fichier $i\"; j=$(basename $i); patch < $CACHE/$INPUT_LANG/$j.patch $i; done ;"
        }
      }
    ],
    "files": [
      {
        "inno": "http://constexpr.org/innoextract/files/snapshots/innoextract-1.8-dev-2019-01-13/innoextract-1.8-dev-2019-01-13-linux.tar.xz"
      },
      {
        "multi5": "https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Indiana%20Jones%20and%20the%20Last%20Crusade/indy3_patch_multi5.zip"
      },
      {
        "gog": "N/A:Please select the game Windows setup exe file downloaded from GOG"
      }
    ]
  },
  "content": "custom-name: Indiana Jones and the Last Crusade - GOG - ScummVM\nfiles:\n- inno: http://constexpr.org/innoextract/files/snapshots/innoextract-1.8-dev-2019-01-13/innoextract-1.8-dev-2019-01-13-linux.tar.xz\n- multi5: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/Indiana%20Jones%20and%20the%20Last%20Crusade/indy3_patch_multi5.zip\n- gog: N/A:Please select the game Windows setup exe file downloaded from GOG\ngame:\n  game_id: indy3\n  path: $GAMEDIR\ninstaller:\n- extract:\n    dst: $CACHE/innoextract\n    file: inno\n- execute:\n    args: --extract $gog --output-dir \"$CACHE/\"\n    file: $CACHE/innoextract/innoextract\n- execute:\n    command: cd $CACHE; ls | grep -i .lfl | xargs mv -t \"$GAMEDIR/\";\n- extract:\n    dst: $CACHE\n    src: multi5\n- input_menu:\n    description: 'Choose your preferred game''s language:'\n    id: LANG\n    options:\n    - en: English\n    - fr: French\n    - it: Italian\n    - sp: Spanish\n    - ge: German\n    preselect: en\n- execute:\n    command: cd $GAMEDIR; if [ \"$INPUT_LANG\" == \"en\" ]; then  exit ; fi ; echo \"lang\n      = $INPUT_LANG\"; for i in *.LFL ; do echo \"traitement du fichier $i\"; j=$(basename\n      $i); patch < $CACHE/$INPUT_LANG/$j.patch $i; done ;\nscummvm:\n  aspect: true\n  fullscreen: true\n"
}