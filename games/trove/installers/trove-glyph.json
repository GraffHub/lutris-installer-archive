{
  "id": 13130,
  "game_id": 4715,
  "game_slug": "trove",
  "name": "Trove",
  "year": 2015,
  "user": "openglfreak",
  "runner": "wine",
  "slug": "trove-glyph",
  "version": "Glyph",
  "description": "Installs Glyph and allows to install Trove afterwards.",
  "notes": "The installer requires manual intervention, as there is no known silent install option for Glyph.\r\nChanging window mode in-game is really wonky, you should probably stay with the default.",
  "created_at": "2019-04-26T22:50:25.628303Z",
  "updated_at": "2020-01-23T02:57:04.462396Z",
  "draft": false,
  "published": true,
  "published_by": null,
  "rating": "",
  "steamid": 304050,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "game": {
      "exe": "drive_c/Program Files (x86)/Glyph/GlyphClient.exe",
      "prefix": "$GAMEDIR"
    },
    "system": {
      "env": {
        "__GL_SHADER_DISK_CACHE_PATH": "$GAMEDIR",
        "__GL_SHADER_DISK_CACHE": 1
      }
    },
    "wine": {
      "esync": true
    },
    "installer": [
      {
        "task": {
          "executable": "glyphinstall",
          "exclude_processes": "GlyphClientApp.exe",
          "description": "Installing Glyph...\nDo not change the installation path!",
          "prefix": "$GAMEDIR",
          "name": "wineexec"
        }
      },
      {
        "task": {
          "description": "Installing Glyph...",
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      },
      {
        "execute": {
          "file": "sed",
          "description": "Fixing Glyph Library",
          "args": "-i 's/<MinOS>win.*<\\/MinOS>/<MinOS>winxp<\\/MinOS>/g' '$GAMEDIR/drive_c/Program Files (x86)/Glyph/Library/GlyphLibrary.xml'"
        }
      },
      {
        "execute": {
          "file": "chmod",
          "description": "Fixing Glyph Library",
          "args": "a-w '$GAMEDIR/drive_c/Program Files (x86)/Glyph/Library/GlyphLibrary.xml'"
        }
      },
      {
        "write_config": {
          "file": "$GAMEDIR/drive_c/users/$USER/Local Settings/Application Data/Glyph/GlyphClient.cfg",
          "value": "Exit",
          "key": "AfterLaunch",
          "description": "Configuring Glyph to exit after game launch",
          "section": "Glyph"
        }
      },
      {
        "write_config": {
          "file": "$GAMEDIR/drive_c/users/$USER/Application Data/Trove/Trove.cfg",
          "value": "opengl",
          "key": "Device",
          "description": "Setting renderer for Trove to OpenGL",
          "section": "Rendering"
        }
      }
    ],
    "files": [
      {
        "glyphinstall": "http://download.dyn.triongames.com/GlyphInstall-9999-1001.exe"
      }
    ]
  },
  "content": "files:\n- glyphinstall: http://download.dyn.triongames.com/GlyphInstall-9999-1001.exe\ngame:\n  exe: drive_c/Program Files (x86)/Glyph/GlyphClient.exe\n  prefix: $GAMEDIR\ninstaller:\n- task:\n    description: 'Installing Glyph...\n\n      Do not change the installation path!'\n    exclude_processes: GlyphClientApp.exe\n    executable: glyphinstall\n    name: wineexec\n    prefix: $GAMEDIR\n- task:\n    description: Installing Glyph...\n    name: winekill\n    prefix: $GAMEDIR\n- execute:\n    args: -i 's/<MinOS>win.*<\\/MinOS>/<MinOS>winxp<\\/MinOS>/g' '$GAMEDIR/drive_c/Program\n      Files (x86)/Glyph/Library/GlyphLibrary.xml'\n    description: Fixing Glyph Library\n    file: sed\n- execute:\n    args: a-w '$GAMEDIR/drive_c/Program Files (x86)/Glyph/Library/GlyphLibrary.xml'\n    description: Fixing Glyph Library\n    file: chmod\n- write_config:\n    description: Configuring Glyph to exit after game launch\n    file: $GAMEDIR/drive_c/users/$USER/Local Settings/Application Data/Glyph/GlyphClient.cfg\n    key: AfterLaunch\n    section: Glyph\n    value: Exit\n- write_config:\n    description: Setting renderer for Trove to OpenGL\n    file: $GAMEDIR/drive_c/users/$USER/Application Data/Trove/Trove.cfg\n    key: Device\n    section: Rendering\n    value: opengl\nsystem:\n  env:\n    __GL_SHADER_DISK_CACHE: 1\n    __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR\nwine:\n  esync: true\n"
}