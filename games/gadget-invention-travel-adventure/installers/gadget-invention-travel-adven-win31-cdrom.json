{
  "id": 15719,
  "game_id": 29472,
  "game_slug": "gadget-invention-travel-adventure",
  "name": "Gadget: Invention, Travel & Adventure",
  "year": 1993,
  "user": "appoloin",
  "runner": "dosbox",
  "slug": "gadget-invention-travel-adven-win31-cdrom",
  "version": "Win3.1 CDRom",
  "description": "You will need a Windows 3.1 install.",
  "notes": "",
  "created_at": "2019-09-20T16:53:37.572186Z",
  "updated_at": "2019-09-20T16:53:37.572211Z",
  "draft": false,
  "published": false,
  "published_by": null,
  "rating": "",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "game": {
      "main_file": "$GAMEDIR/Gadget_Past_as_Future.conf"
    },
    "installer": [
      {
        "write_file": {
          "content": "#!/bin/bash\nsrc=$1\ndst=$2\nsrc_path=$(echo \"$1\" | sed -r \"s/(.+)\\/.+/\\1/\")\ncp -avr \"$src_path/.\"  \"$dst\"",
          "file": "$CACHE/bulkcopy.sh"
        }
      },
      {
        "chmodx": "$CACHE/bulkcopy.sh"
      },
      {
        "write_file": {
          "content": "#!/bin/bash\nsrc=$1\ndst=$2\ncp -avr \"$src/.\"  \"$dst\"",
          "file": "$CACHE/bulkcopy-alt.sh"
        }
      },
      {
        "chmodx": "$CACHE/bulkcopy-alt.sh"
      },
      {
        "execute": {
          "file": "mkdir",
          "args": "$GAMEDIR/HDD  $GAMEDIR/HDD/runexit  $GAMEDIR/HDD/QT"
        }
      },
      {
        "execute": {
          "file": "mkdir",
          "args": "$GAMEDIR/CDD $GAMEDIR/CDD/DISC1"
        }
      },
      {
        "execute": {
          "file": "$CACHE/bulkcopy.sh",
          "args": "$game $GAMEDIR/HDD"
        }
      },
      {
        "insert-disc": {
          "description": "Please insert disc 1",
          "requires": "setup.exe"
        }
      },
      {
        "execute": {
          "file": "$CACHE/bulkcopy-alt.sh",
          "args": "$DISC $GAMEDIR/CDD/DISC1"
        }
      },
      {
        "extract": {
          "file": "$runexit",
          "dst": "$GAMEDIR/HDD/runexit",
          "format": "zip"
        }
      },
      {
        "execute": {
          "file": "/bin/cp",
          "args": "$qt $GAMEDIR/HDD/QT"
        }
      },
      {
        "execute": {
          "file": "/bin/chmod",
          "args": "-R 775  \"$GAMEDIR/CDD\""
        }
      },
      {
        "write_file": {
          "content": "[sblaster]\nirq=5\n[sdl]\nsensitivity=20\n[autoexec]\nmount C \"$GAMEDIR/HDD\" -t dir\nmount D \"$GAMEDIR/CDD/DISC1\" -t cdrom\nSET PATH=%PATH%;C:\\WINDOWS;C:\\runexit\nSET TEMP=C:\\WINDOWS\\TEMP\nC:\nC:\\QT\\qteasy16.exe\nwin runexit C:\\QT\\QTINSTAL.EXE\nwin runexit D:\\setup.exe\nexit",
          "file": "$GAMEDIR/Gadget_Past_as_Future-setup.conf"
        }
      },
      {
        "task": {
          "working_dir": "$GAMEDIR/HDD",
          "config_file": "$GAMEDIR/Gadget_Past_as_Future-setup.conf",
          "name": "dosexec"
        }
      },
      {
        "write_file": {
          "content": "[sblaster]\nirq=5\n[sdl]\nsensitivity=20\n[autoexec]\nmount C \"$GAMEDIR/HDD\" -t dir\nmount D \"$GAMEDIR/CDD/DISC1\" -t cdrom\nSET PATH=%PATH%;C:\\WINDOWS;C:\\runexit\nSET TEMP=C:\\WINDOWS\\TEMP\nC:\nwin\nexit",
          "file": "$GAMEDIR/Gadget_Past_as_Future.conf"
        }
      }
    ],
    "files": [
      {
        "game": "N/A:Select the Autoexec.bat from a Win3.1 install"
      },
      {
        "runexit": "https://github.com/appoloin/WfW/raw/master/runexit.zip"
      },
      {
        "qt": "https://github.com/appoloin/WfW/raw/master/qteasy16.exe"
      }
    ]
  },
  "content": "files:\n- game: N/A:Select the Autoexec.bat from a Win3.1 install\n- runexit: https://github.com/appoloin/WfW/raw/master/runexit.zip\n- qt: https://github.com/appoloin/WfW/raw/master/qteasy16.exe\ngame:\n  main_file: $GAMEDIR/Gadget_Past_as_Future.conf\ninstaller:\n- write_file:\n    content: '#!/bin/bash\n\n      src=$1\n\n      dst=$2\n\n      src_path=$(echo \"$1\" | sed -r \"s/(.+)\\/.+/\\1/\")\n\n      cp -avr \"$src_path/.\"  \"$dst\"'\n    file: $CACHE/bulkcopy.sh\n- chmodx: $CACHE/bulkcopy.sh\n- write_file:\n    content: '#!/bin/bash\n\n      src=$1\n\n      dst=$2\n\n      cp -avr \"$src/.\"  \"$dst\"'\n    file: $CACHE/bulkcopy-alt.sh\n- chmodx: $CACHE/bulkcopy-alt.sh\n- execute:\n    args: $GAMEDIR/HDD  $GAMEDIR/HDD/runexit  $GAMEDIR/HDD/QT\n    file: mkdir\n- execute:\n    args: $GAMEDIR/CDD $GAMEDIR/CDD/DISC1\n    file: mkdir\n- execute:\n    args: $game $GAMEDIR/HDD\n    file: $CACHE/bulkcopy.sh\n- insert-disc:\n    description: Please insert disc 1\n    requires: setup.exe\n- execute:\n    args: $DISC $GAMEDIR/CDD/DISC1\n    file: $CACHE/bulkcopy-alt.sh\n- extract:\n    dst: $GAMEDIR/HDD/runexit\n    file: $runexit\n    format: zip\n- execute:\n    args: $qt $GAMEDIR/HDD/QT\n    file: /bin/cp\n- execute:\n    args: -R 775  \"$GAMEDIR/CDD\"\n    file: /bin/chmod\n- write_file:\n    content: '[sblaster]\n\n      irq=5\n\n      [sdl]\n\n      sensitivity=20\n\n      [autoexec]\n\n      mount C \"$GAMEDIR/HDD\" -t dir\n\n      mount D \"$GAMEDIR/CDD/DISC1\" -t cdrom\n\n      SET PATH=%PATH%;C:\\WINDOWS;C:\\runexit\n\n      SET TEMP=C:\\WINDOWS\\TEMP\n\n      C:\n\n      C:\\QT\\qteasy16.exe\n\n      win runexit C:\\QT\\QTINSTAL.EXE\n\n      win runexit D:\\setup.exe\n\n      exit'\n    file: $GAMEDIR/Gadget_Past_as_Future-setup.conf\n- task:\n    config_file: $GAMEDIR/Gadget_Past_as_Future-setup.conf\n    name: dosexec\n    working_dir: $GAMEDIR/HDD\n- write_file:\n    content: '[sblaster]\n\n      irq=5\n\n      [sdl]\n\n      sensitivity=20\n\n      [autoexec]\n\n      mount C \"$GAMEDIR/HDD\" -t dir\n\n      mount D \"$GAMEDIR/CDD/DISC1\" -t cdrom\n\n      SET PATH=%PATH%;C:\\WINDOWS;C:\\runexit\n\n      SET TEMP=C:\\WINDOWS\\TEMP\n\n      C:\n\n      win\n\n      exit'\n    file: $GAMEDIR/Gadget_Past_as_Future.conf\n"
}