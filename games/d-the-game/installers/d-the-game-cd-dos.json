{
  "id": 14838,
  "game_id": 12182,
  "game_slug": "d-the-game",
  "name": "D: The Game",
  "year": 1995,
  "user": "legluondunet",
  "runner": "dosbox",
  "slug": "d-the-game-cd-dos",
  "version": "CD DOS",
  "description": "This script will install \"D\" DOS CD edition for Dosbox.\r\nDuring install please let all options by default.\r\nBig thanks to people who gave their time to permit us playing this game in the best conditions.",
  "notes": "- This script requires cdrdao and toc2cue to be installed. \r\nOn Debian and Ubuntu type in a terminal: \r\nsudo apt-get install cdrdao\r\n- You will need the 2 CD only during install\r\n- Please report issue concerning this script on my github page:\r\nhttps://github.com/legluondunet/MyLittleLutrisScripts/",
  "created_at": "2019-08-02T19:41:03.805000Z",
  "updated_at": "2019-09-21T21:06:26.357078Z",
  "draft": false,
  "published": true,
  "published_by": 494,
  "rating": "",
  "steamid": 510590,
  "gogid": 1852354510,
  "gogslug": "d_the_game",
  "humblestoreid": "",
  "script": {
    "game": {
      "main_file": "$GAMEDIR/D_dosbox.conf"
    },
    "custom-name": "D - The Game - CD DOS - DOSBOX",
    "files": [
      {
        "script": "https://github.com/legluondunet/mlls-tools/raw/master/scripts/copycd.sh"
      },
      {
        "conf": "https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/D%20-%20The%20Game/D_dosbox.conf"
      }
    ],
    "installer": [
      {
        "insert-disc": {
          "requires": "d/laura.exe",
          "description": "Please insert disc 1"
        }
      },
      {
        "chmodx": "script"
      },
      {
        "execute": {
          "args": "disk",
          "file": "script"
        }
      },
      {
        "insert-disc": {
          "requires": "efc/baby.raw",
          "description": "Please insert disc 2"
        }
      },
      {
        "execute": {
          "args": "D_",
          "file": "script"
        }
      },
      {
        "execute": {
          "command": "cd $GAMEDIR; rm -f -r *.toc; mv disk.cue D_CD1.cue; mv disk.bin D_CD1.bin; mv D_.cue D_CD2.cue; mv D_.bin D_CD2.bin; sed -i 's/disk.bin/D_CD1.bin/g' D_CD1.cue; sed -i 's/D_.bin/D_CD2.bin/g' D_CD2.cue"
        }
      },
      {
        "task": {
          "name": "makeconfig",
          "path": "$GAMEDIR/D_dosbox_install.conf",
          "drives": {
            "c": "."
          },
          "commands": [
            "imgmount d \"D_CD1.cue\" \"D_CD2.cue\" -t iso",
            "d:",
            "call D:\\install.bat",
            "exit"
          ]
        }
      },
      {
        "task": {
          "config_file": "$GAMEDIR/D_dosbox_install.conf",
          "working_dir": "$GAMEDIR",
          "name": "dosexec"
        }
      },
      {
        "copy": {
          "dst": "$GAMEDIR",
          "src": "conf"
        }
      }
    ]
  },
  "content": "custom-name: D - The Game - CD DOS - DOSBOX\nfiles:\n- script: https://github.com/legluondunet/mlls-tools/raw/master/scripts/copycd.sh\n- conf: https://github.com/legluondunet/MyLittleLutrisScripts/raw/master/D%20-%20The%20Game/D_dosbox.conf\ngame:\n  main_file: $GAMEDIR/D_dosbox.conf\ninstaller:\n- insert-disc:\n    description: Please insert disc 1\n    requires: d/laura.exe\n- chmodx: script\n- execute:\n    args: disk\n    file: script\n- insert-disc:\n    description: Please insert disc 2\n    requires: efc/baby.raw\n- execute:\n    args: D_\n    file: script\n- execute:\n    command: cd $GAMEDIR; rm -f -r *.toc; mv disk.cue D_CD1.cue; mv disk.bin D_CD1.bin;\n      mv D_.cue D_CD2.cue; mv D_.bin D_CD2.bin; sed -i 's/disk.bin/D_CD1.bin/g' D_CD1.cue;\n      sed -i 's/D_.bin/D_CD2.bin/g' D_CD2.cue\n- task:\n    commands:\n    - imgmount d \"D_CD1.cue\" \"D_CD2.cue\" -t iso\n    - 'd:'\n    - call D:\\install.bat\n    - exit\n    drives:\n      c: .\n    name: makeconfig\n    path: $GAMEDIR/D_dosbox_install.conf\n- task:\n    config_file: $GAMEDIR/D_dosbox_install.conf\n    name: dosexec\n    working_dir: $GAMEDIR\n- copy:\n    dst: $GAMEDIR\n    src: conf\n"
}