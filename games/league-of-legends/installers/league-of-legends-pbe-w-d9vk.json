{
  "id": 14238,
  "game_id": 2424,
  "game_slug": "league-of-legends",
  "name": "League of Legends",
  "year": 2009,
  "user": "Farcrada",
  "runner": "wine",
  "slug": "league-of-legends-pbe-w-d9vk",
  "version": "PBE w/ d9vk",
  "description": "PBE version with Wine AppImage",
  "notes": "",
  "created_at": "2019-06-21T18:56:29.690168Z",
  "updated_at": "2019-06-21T18:56:29.690191Z",
  "draft": false,
  "published": false,
  "published_by": null,
  "rating": "",
  "steamid": 20590,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "game": {
      "exe": "$GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage",
      "args": "wine \"$HOME/.wine-appimage-lol/drive_c/Riot Games/PBE/League of Legends/LeagueClient.exe\""
    },
    "system": {
      "env": {
        "WINEPREFIX": "$HOME/.wine-appimage-lol",
        "WINEARCH": "win32",
        "WINEDEBUG": "-all",
        "DXVK_HUD": "compiler",
        "WINEOVERRIDES": "msvcp140=native",
        "DXVK_STATE_CACHE_PATH": "$HOME/.wine-appimage-lol"
      }
    },
    "require-binaries": "wine",
    "custom-name": "League of Legends PBE - AppImage",
    "files": [
      {
        "lol_pbe": "http://riotgamespatcher-a.akamaihd.net/releases/pbe/installer/deploy/League%20of%20Legends%20installer%20PBE.exe"
      },
      {
        "appimage": "https://github.com/mmtrt/Wine_Appimage/releases/download/release-lol-patched/wine-staging-i386_lol-patched_x86_64-bionic.AppImage"
      },
      {
        "d9vk": "https://github.com/Joshua-Ashton/d9vk/releases/download/0.12/d9vk-0.12.tar.gz"
      },
      {
        "dx2010": "https://lutris.net/files/tools/directx-2010.tar.gz"
      }
    ],
    "installer": [
      {
        "extract": {
          "dst": "$CACHE/d9vk-0.12/",
          "file": "d9vk"
        }
      },
      {
        "extract": {
          "dst": "$CACHE/dxsetup",
          "file": "dx2010"
        }
      },
      {
        "chmodx": "appimage"
      },
      {
        "move": {
          "dst": "$GAMEDIR",
          "src": "appimage"
        }
      },
      {
        "execute": {
          "description": "Setting up wine prefix",
          "env": {
            "WINEPREFIX": "$HOME/.wine-appimage-lol",
            "WINEARCH": "win32"
          },
          "args": "wine wineboot",
          "file": "$GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage"
        }
      },
      {
        "input_menu": {
          "description": "Choose the game's language:",
          "id": "LOCALE",
          "options": [
            {
              "cs_CZ": "Čeština"
            },
            {
              "en_AU": "English AUS"
            },
            {
              "en_GB": "English U.K."
            },
            {
              "en_US": "English U.S."
            },
            {
              "fr_FR": "Français"
            },
            {
              "de_DE": "Deutsch"
            },
            {
              "es_ES": "Español"
            },
            {
              "es_MX": "Español Mexicano"
            },
            {
              "it_IT": "Italiano"
            },
            {
              "ja_JP": "日本語"
            },
            {
              "hu_HU": "Magyar"
            },
            {
              "pl_PL": "Polski"
            },
            {
              "pt_BR": "Português do Brasil"
            },
            {
              "ro_RO": "Romanian"
            },
            {
              "ru_RU": "русский"
            },
            {
              "tr_TR": "Türkçe"
            }
          ],
          "preselect": "en_US"
        }
      },
      {
        "input_menu": {
          "description": "Choose the game's server region:",
          "id": "REGION",
          "options": [
            {
              "BR": "Brazil"
            },
            {
              "EUNE": "Europe Nordic & East"
            },
            {
              "EUW": "Europe West"
            },
            {
              "LAN": "Latin America North"
            },
            {
              "LAS": "Latin America South"
            },
            {
              "NA": "North America"
            },
            {
              "OCE": "Oceania"
            },
            {
              "RU": "Russia"
            },
            {
              "TR": "Turkey"
            },
            {
              "JP": "Japan"
            },
            {
              "SEA": "South East Asia"
            }
          ],
          "preselect": "NA"
        }
      },
      {
        "execute": {
          "description": "Installing Directx9",
          "env": {
            "WINEPREFIX": "$HOME/.wine-appimage-lol"
          },
          "args": "wine $CACHE/dxsetup/DXSETUP.exe /silent",
          "file": "$GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage"
        }
      },
      {
        "execute": {
          "description": "Installing League of Legends PBE",
          "env": {
            "WINEPREFIX": "$HOME/.wine-appimage-lol"
          },
          "args": "wine lol_PBE --mode unattended",
          "file": "$GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage"
        }
      },
      {
        "execute": {
          "description": "Setting up d9vk",
          "env": {
            "WINEPREFIX": "$HOME/.wine-appimage-lol"
          },
          "args": "install",
          "file": "$CACHE/d9vk-0.12/setup_dxvk.sh"
        }
      },
      {
        "execute": {
          "env": {
            "WINEPREFIX": "$HOME/.wine-appimage-lol",
            "WINEARCH": "win32"
          },
          "args": "wine wineboot -u",
          "file": "$GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage"
        }
      },
      {
        "write_file": {
          "content": "install:\n    globals:\n        locale: \"$INPUT_LOCALE\"\n        region: \"$INPUT_REGION\"\n",
          "file": "$HOME/.wine-appimage-lol/drive_c/Riot Games/League of Legends/Config/LeagueClientSettings.yaml"
        }
      }
    ]
  },
  "content": "custom-name: League of Legends PBE - AppImage\nfiles:\n- lol_pbe: http://riotgamespatcher-a.akamaihd.net/releases/pbe/installer/deploy/League%20of%20Legends%20installer%20PBE.exe\n- appimage: https://github.com/mmtrt/Wine_Appimage/releases/download/release-lol-patched/wine-staging-i386_lol-patched_x86_64-bionic.AppImage\n- d9vk: https://github.com/Joshua-Ashton/d9vk/releases/download/0.12/d9vk-0.12.tar.gz\n- dx2010: https://lutris.net/files/tools/directx-2010.tar.gz\ngame:\n  args: wine \"$HOME/.wine-appimage-lol/drive_c/Riot Games/PBE/League of Legends/LeagueClient.exe\"\n  exe: $GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage\ninstaller:\n- extract:\n    dst: $CACHE/d9vk-0.12/\n    file: d9vk\n- extract:\n    dst: $CACHE/dxsetup\n    file: dx2010\n- chmodx: appimage\n- move:\n    dst: $GAMEDIR\n    src: appimage\n- execute:\n    args: wine wineboot\n    description: Setting up wine prefix\n    env:\n      WINEARCH: win32\n      WINEPREFIX: $HOME/.wine-appimage-lol\n    file: $GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage\n- input_menu:\n    description: 'Choose the game''s language:'\n    id: LOCALE\n    options:\n    - cs_CZ: \"\\u010Ce\\u0161tina\"\n    - en_AU: English AUS\n    - en_GB: English U.K.\n    - en_US: English U.S.\n    - fr_FR: \"Fran\\xE7ais\"\n    - de_DE: Deutsch\n    - es_ES: \"Espa\\xF1ol\"\n    - es_MX: \"Espa\\xF1ol Mexicano\"\n    - it_IT: Italiano\n    - ja_JP: \"\\u65E5\\u672C\\u8A9E\"\n    - hu_HU: Magyar\n    - pl_PL: Polski\n    - pt_BR: \"Portugu\\xEAs do Brasil\"\n    - ro_RO: Romanian\n    - ru_RU: \"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"\n    - tr_TR: \"T\\xFCrk\\xE7e\"\n    preselect: en_US\n- input_menu:\n    description: 'Choose the game''s server region:'\n    id: REGION\n    options:\n    - BR: Brazil\n    - EUNE: Europe Nordic & East\n    - EUW: Europe West\n    - LAN: Latin America North\n    - LAS: Latin America South\n    - NA: North America\n    - OCE: Oceania\n    - RU: Russia\n    - TR: Turkey\n    - JP: Japan\n    - SEA: South East Asia\n    preselect: NA\n- execute:\n    args: wine $CACHE/dxsetup/DXSETUP.exe /silent\n    description: Installing Directx9\n    env:\n      WINEPREFIX: $HOME/.wine-appimage-lol\n    file: $GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage\n- execute:\n    args: wine lol_PBE --mode unattended\n    description: Installing League of Legends PBE\n    env:\n      WINEPREFIX: $HOME/.wine-appimage-lol\n    file: $GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage\n- execute:\n    args: install\n    description: Setting up d9vk\n    env:\n      WINEPREFIX: $HOME/.wine-appimage-lol\n    file: $CACHE/d9vk-0.12/setup_dxvk.sh\n- execute:\n    args: wine wineboot -u\n    env:\n      WINEARCH: win32\n      WINEPREFIX: $HOME/.wine-appimage-lol\n    file: $GAMEDIR/wine-staging-i386_lol-patched_x86_64-bionic.AppImage\n- write_file:\n    content: \"install:\\n    globals:\\n        locale: \\\"$INPUT_LOCALE\\\"\\n        region:\\\n      \\ \\\"$INPUT_REGION\\\"\\n\"\n    file: $HOME/.wine-appimage-lol/drive_c/Riot Games/League of Legends/Config/LeagueClientSettings.yaml\nrequire-binaries: wine\nsystem:\n  env:\n    DXVK_HUD: compiler\n    DXVK_STATE_CACHE_PATH: $HOME/.wine-appimage-lol\n    WINEARCH: win32\n    WINEDEBUG: -all\n    WINEOVERRIDES: msvcp140=native\n    WINEPREFIX: $HOME/.wine-appimage-lol\n"
}