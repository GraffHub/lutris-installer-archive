{
  "id": 17009,
  "game_id": 2424,
  "game_slug": "league-of-legends",
  "name": "League of Legends",
  "year": 2009,
  "user": "MaitreSoly",
  "runner": "wine",
  "slug": "league-of-legends-test-lol",
  "version": "test-lol",
  "description": null,
  "notes": "",
  "created_at": "2019-11-26T00:05:51.274870Z",
  "updated_at": "2019-11-26T00:05:51.274905Z",
  "draft": true,
  "published": false,
  "published_by": null,
  "rating": "",
  "steamid": 20590,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "count": 1,
    "previous": null,
    "results": [
      {
        "content": "files:\n- lol_installer: https://riotgamespatcher-a.akamaihd.net/releases/live/installer/deploy/League%20of%20Legends%20installer%20NA.exe\ngame:\n  exe: $GAMEDIR/drive_c/Riot Games/League of Legends/LeagueClient.exe\n  prefix: $GAMEDIR\ninstaller:\n- input_menu:\n    description: 'Choose the game''s language:'\n    id: LOCALE\n    options:\n    - cs_CZ: \"\\u010Ce\\u0161tina\"\n    - en_AU: English AUS\n    - en_GB: English U.K.\n    - en_US: English U.S.\n    - fr_FR: \"Fran\\xE7ais\"\n    - de_DE: Deutsch\n    - es_ES: \"Espa\\xF1ol\"\n    - es_MX: \"Espa\\xF1ol Mexicano\"\n    - it_IT: Italiano\n    - ja_JP: \"\\u65E5\\u672C\\u8A9E\"\n    - hu_HU: Magyar\n    - pl_PL: Polski\n    - pt_BR: \"Portugu\\xEAs do Brasil\"\n    - ro_RO: Romanian\n    - ru_RU: \"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"\n    - tr_TR: \"T\\xFCrk\\xE7e\"\n    preselect: en_US\n- input_menu:\n    description: 'Choose the game''s server region:'\n    id: REGION\n    options:\n    - BR: Brazil\n    - EUNE: Europe Nordic & East\n    - EUW: Europe West\n    - LAN: Latin America North\n    - LAS: Latin America South\n    - NA: North America\n    - OCE: Oceania\n    - RU: Russia\n    - TR: Turkey\n    - JP: Japan\n    - SEA: South East Asia\n    preselect: NA\n- task:\n    arch: win32\n    description: Creating Wine prefix\n    name: create_prefix\n    prefix: $GAMEDIR\n- task:\n    app: d3dcompiler_43 d3dx9\n    arch: win32\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    arch: win32\n    description: Installing League of Legends\n    executable: lol_installer\n    name: wineexec\n    prefix: $GAMEDIR\n- task:\n    arch: win32\n    name: winekill\n    prefix: $GAMEDIR\n- task:\n    arch: win32\n    key: GrabFullScreen\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver\n    prefix: $GAMEDIR\n    value: Y\n- task:\n    arch: win32\n    key: UseXVidMode\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver\n    prefix: $GAMEDIR\n    value: N\n- write_file:\n    content:\n      install:\n        globals:\n          locale: $INPUT_LOCALE\n          region: $INPUT_REGION\n    file: $GAMEDIR/drive_c/Riot Games/League of Legends/Config/LeagueClientSettings.yaml\n- task:\n    arch: win32\n    name: winekill\n    prefix: $GAMEDIR\n- write_file:\n    content: \"#!/usr/bin/env sh\n\n# If abi.vsyscall32=0 is already set, no need to\\\n      \\ do anything\nif [ \\\"$(cat /proc/sys/abi/vsyscall32)\\\" -eq 0 ]; then\n    exit\\\n      \\ 0\nfi\n\ndialog() {\n    zenity \\\"$@\\\" --icon-name='lutris' --width=\\\"400\\\"\\\n      \\ --title=\\\"League of Legends anticheat compatibility check\\\"\n}\n\nfinal_check()\\\n      \\ {\n    if [ \\\"$(cat /proc/sys/abi/vsyscall32)\\\" -ne 0 ]; then\n        dialog\\\n      \\ --warning --text=\\\"As far as this script can detect, your system is not configured\\\n      \\ to work with League's anticheat. Please verify that you can get into the practice\\\n      \\ too before playing a multiplayer game.\\\"\n    fi\n}\n\ntrap final_check EXIT\n\\\n      \nif grep -E -x -q \\\"abi.vsyscall32( )?=( )?0\\\" /etc/sysctl.conf; then\n   \\\n      \\ if dialog --question --text=\\\"It looks like you already configured your system\\\n      \\ to work with League anticheat, and saved the setting to persist across reboots.\\\n      \\ However, for some reason the persistence part did not work.\\\n\\\nFor now,\\\n      \\ would you like to enable the setting again until the next reboot?\\\"\n    then\n\\\n      \\        pkexec sh -c 'sysctl -w abi.vsyscall32=0'\n    fi\n    exit 0\nfi\n\\\n      \nonce=\\\"Change setting until next reboot\\\"\npersist=\\\"Change setting and persist\\\n      \\ after reboot\\\"\nmanual=\\\"Show me the commands; I'll handle it myself\\\"\n\n\\\n      if dialog --question --text=\\\"League of Legends' anticheat requires using a\\\n      \\ modified version of wine and changing a system setting. Otherwise, the game\\\n      \\ will crash after champion select. Wine-lol comes with the Lutris installer,\\\n      \\ but as far as this script can detect, the setting has not been changed yet.\\\\\\\n      nNote: The setting (abi.vsyscall32=0) may reduce the performance of some 32\\\n      \\ bit applications.\\\n\\\nWould you like to change the setting now?\\\"\nthen\n\\\n      \\    # I tried to embed the command in the dialog and run the output, but\n\\\n      \\    # parsing variables with embedded quotes is an excercise in frustration.\n\\\n      \\    RESULT=$(dialog --list --radiolist --height=\\\"200\\\" \\\\\n        --column=\\\"\\\n      \\\" --column=\\\"Command\\\" \\\\\n        \\\"TRUE\\\" \\\"$once\\\" \\\\\n        \\\"FALSE\\\"\\\n      \\ \\\"$persist\\\" \\\\\n        \\\"FALSE\\\" \\\"$manual\\\")\n\n    case \\\"$RESULT\\\" in\n\\\n      \\        \\\"$once\\\")\n            pkexec sh -c 'sysctl -w abi.vsyscall32=0'\n\\\n      \\            ;;\n        \\\"$persist\\\")\n            pkexec sh -c 'echo \\\"abi.vsyscall32\\\n      \\ = 0\\\" >> /etc/sysctl.conf && sysctl -p'\n            ;;\n        \\\"$manual\\\"\\\n      )\n            dialog --info --no-wrap --text=\\\"To change the setting (a kernel\\\n      \\ parameter) until next boot, run:\\\n\\\nsudo sh -c 'sysctl -w abi.vsyscall32=0'\\\\\\\n      n\\\nTo persist the setting between reboots, run:\\\n\\\nsudo sh -c 'echo \\\\\\\"\\\n      abi.vsyscall32 = 0\\\\\\\" >> /etc/sysctl.conf &amp;&amp; sysctl -p'\\\"\n       \\\n      \\     # Anyone who wants to do it manually doesn't need another warning\n  \\\n      \\          trap - EXIT\n            ;;\n        *)\n            echo \\\"Dialog\\\n      \\ canceled or unknown option selected: $RESULT\\\"\n            ;;\n    esac\n\\\n      fi\n\"\n    file: $GAMEDIR/syscall_check.sh\n- chmodx: $GAMEDIR/syscall_check.sh\nsystem:\n  disable_compositor: true\n  env:\n    DXVK_LOG_LEVEL: none\n    DXVK_STATE_CACHE_PATH: $GAMEDIR\n    STAGING_SHARED_MEMORY: 1\n    WINE_LARGE_ADDRESS_AWARE: 1\n    __GL_SHADER_DISK_CACHE: 1\n    __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR\n  prelaunch_command: $GAMEDIR/syscall_check.sh\nwine:\n  MouseWarpOverride: enable\n  d9vk: true\n  version: lutris-lol-4.20-x86_64\n",
        "published_by": 51687,
        "updated_at": "2019-11-24T01:38:27.516741Z",
        "game_id": 2424,
        "published": true,
        "description": "LoL with vsyscall32 override and d9vk",
        "notes": "IMPORTANT: Uncheck 'Launch League of Legends now?' at the end of the League install wizard.",
        "steamid": 20590,
        "user": "GloriousEggroll",
        "year": 2009,
        "draft": false,
        "name": "League of Legends",
        "runner": "wine",
        "humblestoreid": "",
        "gogid": null,
        "gogslug": "",
        "script": {
          "game": {
            "exe": "$GAMEDIR/drive_c/Riot Games/League of Legends/LeagueClient.exe",
            "prefix": "$GAMEDIR"
          },
          "system": {
            "disable_compositor": true,
            "env": {
              "__GL_SHADER_DISK_CACHE_PATH": "$GAMEDIR",
              "__GL_SHADER_DISK_CACHE": 1,
              "WINE_LARGE_ADDRESS_AWARE": 1,
              "DXVK_LOG_LEVEL": "none",
              "DXVK_STATE_CACHE_PATH": "$GAMEDIR",
              "STAGING_SHARED_MEMORY": 1
            },
            "prelaunch_command": "$GAMEDIR/syscall_check.sh"
          },
          "wine": {
            "MouseWarpOverride": "enable",
            "d9vk": true,
            "version": "lutris-lol-4.20-x86_64"
          },
          "installer": [
            {
              "input_menu": {
                "options": [
                  {
                    "cs_CZ": "Čeština"
                  },
                  {
                    "en_AU": "English AUS"
                  },
                  {
                    "en_GB": "English U.K."
                  },
                  {
                    "en_US": "English U.S."
                  },
                  {
                    "fr_FR": "Français"
                  },
                  {
                    "de_DE": "Deutsch"
                  },
                  {
                    "es_ES": "Español"
                  },
                  {
                    "es_MX": "Español Mexicano"
                  },
                  {
                    "it_IT": "Italiano"
                  },
                  {
                    "ja_JP": "日本語"
                  },
                  {
                    "hu_HU": "Magyar"
                  },
                  {
                    "pl_PL": "Polski"
                  },
                  {
                    "pt_BR": "Português do Brasil"
                  },
                  {
                    "ro_RO": "Romanian"
                  },
                  {
                    "ru_RU": "русский"
                  },
                  {
                    "tr_TR": "Türkçe"
                  }
                ],
                "id": "LOCALE",
                "preselect": "en_US",
                "description": "Choose the game's language:"
              }
            },
            {
              "input_menu": {
                "options": [
                  {
                    "BR": "Brazil"
                  },
                  {
                    "EUNE": "Europe Nordic & East"
                  },
                  {
                    "EUW": "Europe West"
                  },
                  {
                    "LAN": "Latin America North"
                  },
                  {
                    "LAS": "Latin America South"
                  },
                  {
                    "NA": "North America"
                  },
                  {
                    "OCE": "Oceania"
                  },
                  {
                    "RU": "Russia"
                  },
                  {
                    "TR": "Turkey"
                  },
                  {
                    "JP": "Japan"
                  },
                  {
                    "SEA": "South East Asia"
                  }
                ],
                "id": "REGION",
                "preselect": "NA",
                "description": "Choose the game's server region:"
              }
            },
            {
              "execute": {
                "args": "wine wineboot",
                "description": "Setting up wine prefix",
                "env": {
                  "WINEPREFIX": "$GAMEDIR",
                  "WINEARCH": "win32"
                }
              }
            },
            {
              "task": {
                "app": "d3dcompiler_43 d3dx9",
                "arch": "win32",
                "prefix": "$GAMEDIR",
                "name": "winetricks"
              }
            },
            {
              "task": {
                "executable": "lol_installer",
                "arch": "win32",
                "description": "Installing League of Legends",
                "prefix": "$GAMEDIR",
                "name": "wineexec"
              }
            },
            {
              "task": {
                "arch": "win32",
                "prefix": "$GAMEDIR",
                "name": "winekill"
              }
            },
            {
              "task": {
                "arch": "win32",
                "prefix": "$GAMEDIR",
                "name": "set_regedit",
                "path": "HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver",
                "value": "Y",
                "key": "GrabFullScreen"
              }
            },
            {
              "task": {
                "arch": "win32",
                "prefix": "$GAMEDIR",
                "name": "set_regedit",
                "path": "HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver",
                "value": "N",
                "key": "UseXVidMode"
              }
            },
            {
              "write_file": {
                "content": {
                  "install": {
                    "globals": {
                      "region": "$INPUT_REGION",
                      "locale": "$INPUT_LOCALE"
                    }
                  }
                },
                "file": "$GAMEDIR/drive_c/Riot Games/League of Legends/Config/LeagueClientSettings.yaml"
              }
            },
            {
              "task": {
                "arch": "win32",
                "prefix": "$GAMEDIR",
                "name": "winekill"
              }
            },
            {
              "write_file": {
                "content": "#!/usr/bin/env sh\n\n# If abi.vsyscall32=0 is already set, no need to do anything\nif [ \"$(cat /proc/sys/abi/vsyscall32)\" -eq 0 ]; then\n    exit 0\nfi\n\ndialog() {\n    zenity \"$@\" --icon-name='lutris' --width=\"400\" --title=\"League of Legends anticheat compatibility check\"\n}\n\nfinal_check() {\n    if [ \"$(cat /proc/sys/abi/vsyscall32)\" -ne 0 ]; then\n        dialog --warning --text=\"As far as this script can detect, your system is not configured to work with League's anticheat. Please verify that you can get into the practice too before playing a multiplayer game.\"\n    fi\n}\n\ntrap final_check EXIT\n\nif grep -E -x -q \"abi.vsyscall32( )?=( )?0\" /etc/sysctl.conf; then\n    if dialog --question --text=\"It looks like you already configured your system to work with League anticheat, and saved the setting to persist across reboots. However, for some reason the persistence part did not work.\n\nFor now, would you like to enable the setting again until the next reboot?\"\n    then\n        pkexec sh -c 'sysctl -w abi.vsyscall32=0'\n    fi\n    exit 0\nfi\n\nonce=\"Change setting until next reboot\"\npersist=\"Change setting and persist after reboot\"\nmanual=\"Show me the commands; I'll handle it myself\"\n\nif dialog --question --text=\"League of Legends' anticheat requires using a modified version of wine and changing a system setting. Otherwise, the game will crash after champion select. Wine-lol comes with the Lutris installer, but as far as this script can detect, the setting has not been changed yet.\nNote: The setting (abi.vsyscall32=0) may reduce the performance of some 32 bit applications.\n\nWould you like to change the setting now?\"\nthen\n    # I tried to embed the command in the dialog and run the output, but\n    # parsing variables with embedded quotes is an excercise in frustration.\n    RESULT=$(dialog --list --radiolist --height=\"200\" \\\n        --column=\"\" --column=\"Command\" \\\n        \"TRUE\" \"$once\" \\\n        \"FALSE\" \"$persist\" \\\n        \"FALSE\" \"$manual\")\n\n    case \"$RESULT\" in\n        \"$once\")\n            pkexec sh -c 'sysctl -w abi.vsyscall32=0'\n            ;;\n        \"$persist\")\n            pkexec sh -c 'echo \"abi.vsyscall32 = 0\" >> /etc/sysctl.conf && sysctl -p'\n            ;;\n        \"$manual\")\n            dialog --info --no-wrap --text=\"To change the setting (a kernel parameter) until next boot, run:\n\nsudo sh -c 'sysctl -w abi.vsyscall32=0'\n\nTo persist the setting between reboots, run:\n\nsudo sh -c 'echo \\\"abi.vsyscall32 = 0\\\" >> /etc/sysctl.conf &amp;&amp; sysctl -p'\"\n            # Anyone who wants to do it manually doesn't need another warning\n            trap - EXIT\n            ;;\n        *)\n            echo \"Dialog canceled or unknown option selected: $RESULT\"\n            ;;\n    esac\nfi\n",
                "file": "$GAMEDIR/syscall_check.sh"
              }
            },
            {
              "chmodx": "$GAMEDIR/syscall_check.sh"
            }
          ],
          "files": [
            {
              "lol_installer": "https://riotgamespatcher-a.akamaihd.net/releases/live/installer/deploy/League%20of%20Legends%20installer%20NA.exe"
            }
          ]
        },
        "slug": "league-of-legends-vsyscall32-override-",
        "id": 16308,
        "created_at": "2019-10-20T01:22:33.971000Z",
        "version": "vsyscall32 override w/d9vk",
        "rating": "4",
        "game_slug": "my-test-lol"
      }
    ],
    "next": null
  },
  "content": "count: 1\nnext: null\nprevious: null\nresults:\n- content: \"files:\\n- lol_installer: https://riotgamespatcher-a.akamaihd.net/releases/live/installer/deploy/League%20of%20Legends%20installer%20NA.exe\\n\\\n    game:\\n  exe: $GAMEDIR/drive_c/Riot Games/League of Legends/LeagueClient.exe\\n\\\n    \\  prefix: $GAMEDIR\\ninstaller:\\n- input_menu:\\n    description: 'Choose the game''s\\\n    \\ language:'\\n    id: LOCALE\\n    options:\\n    - cs_CZ: \\\"\\\\u010Ce\\\\u0161tina\\\"\\\n    \\n    - en_AU: English AUS\\n    - en_GB: English U.K.\\n    - en_US: English U.S.\\n\\\n    \\    - fr_FR: \\\"Fran\\\\xE7ais\\\"\\n    - de_DE: Deutsch\\n    - es_ES: \\\"Espa\\\\xF1ol\\\"\\\n    \\n    - es_MX: \\\"Espa\\\\xF1ol Mexicano\\\"\\n    - it_IT: Italiano\\n    - ja_JP: \\\"\\\n    \\\\u65E5\\\\u672C\\\\u8A9E\\\"\\n    - hu_HU: Magyar\\n    - pl_PL: Polski\\n    - pt_BR:\\\n    \\ \\\"Portugu\\\\xEAs do Brasil\\\"\\n    - ro_RO: Romanian\\n    - ru_RU: \\\"\\\\u0440\\\\\\\n    u0443\\\\u0441\\\\u0441\\\\u043A\\\\u0438\\\\u0439\\\"\\n    - tr_TR: \\\"T\\\\xFCrk\\\\xE7e\\\"\\n\\\n    \\    preselect: en_US\\n- input_menu:\\n    description: 'Choose the game''s server\\\n    \\ region:'\\n    id: REGION\\n    options:\\n    - BR: Brazil\\n    - EUNE: Europe\\\n    \\ Nordic & East\\n    - EUW: Europe West\\n    - LAN: Latin America North\\n    -\\\n    \\ LAS: Latin America South\\n    - NA: North America\\n    - OCE: Oceania\\n    -\\\n    \\ RU: Russia\\n    - TR: Turkey\\n    - JP: Japan\\n    - SEA: South East Asia\\n\\\n    \\    preselect: NA\\n- task:\\n    arch: win32\\n    description: Creating Wine prefix\\n\\\n    \\    name: create_prefix\\n    prefix: $GAMEDIR\\n- task:\\n    app: d3dcompiler_43\\\n    \\ d3dx9\\n    arch: win32\\n    name: winetricks\\n    prefix: $GAMEDIR\\n- task:\\n\\\n    \\    arch: win32\\n    description: Installing League of Legends\\n    executable:\\\n    \\ lol_installer\\n    name: wineexec\\n    prefix: $GAMEDIR\\n- task:\\n    arch:\\\n    \\ win32\\n    name: winekill\\n    prefix: $GAMEDIR\\n- task:\\n    arch: win32\\n\\\n    \\    key: GrabFullScreen\\n    name: set_regedit\\n    path: HKEY_CURRENT_USER\\\\\\\n    Software\\\\Wine\\\\X11 Driver\\n    prefix: $GAMEDIR\\n    value: Y\\n- task:\\n    arch:\\\n    \\ win32\\n    key: UseXVidMode\\n    name: set_regedit\\n    path: HKEY_CURRENT_USER\\\\\\\n    Software\\\\Wine\\\\X11 Driver\\n    prefix: $GAMEDIR\\n    value: N\\n- write_file:\\n\\\n    \\    content:\\n      install:\\n        globals:\\n          locale: $INPUT_LOCALE\\n\\\n    \\          region: $INPUT_REGION\\n    file: $GAMEDIR/drive_c/Riot Games/League\\\n    \\ of Legends/Config/LeagueClientSettings.yaml\\n- task:\\n    arch: win32\\n    name:\\\n    \\ winekill\\n    prefix: $GAMEDIR\\n- write_file:\\n    content: \\\"#!/usr/bin/env\\\n    \\ sh\\n\\n# If abi.vsyscall32=0 is already set, no need to\\\\\\n      \\\\ do anything\\n\\\n    if [ \\\\\\\"$(cat /proc/sys/abi/vsyscall32)\\\\\\\" -eq 0 ]; then\\n    exit\\\\\\n     \\\n    \\ \\\\ 0\\nfi\\n\\ndialog() {\\n    zenity \\\\\\\"$@\\\\\\\" --icon-name='lutris' --width=\\\\\\\n    \\\"400\\\\\\\"\\\\\\n      \\\\ --title=\\\\\\\"League of Legends anticheat compatibility check\\\\\\\n    \\\"\\n}\\n\\nfinal_check()\\\\\\n      \\\\ {\\n    if [ \\\\\\\"$(cat /proc/sys/abi/vsyscall32)\\\\\\\n    \\\" -ne 0 ]; then\\n        dialog\\\\\\n      \\\\ --warning --text=\\\\\\\"As far as this\\\n    \\ script can detect, your system is not configured\\\\\\n      \\\\ to work with League's\\\n    \\ anticheat. Please verify that you can get into the practice\\\\\\n      \\\\ too\\\n    \\ before playing a multiplayer game.\\\\\\\"\\n    fi\\n}\\n\\ntrap final_check EXIT\\n\\\n    \\\\\\n      \\nif grep -E -x -q \\\\\\\"abi.vsyscall32( )?=( )?0\\\\\\\" /etc/sysctl.conf;\\\n    \\ then\\n   \\\\\\n      \\\\ if dialog --question --text=\\\\\\\"It looks like you already\\\n    \\ configured your system\\\\\\n      \\\\ to work with League anticheat, and saved\\\n    \\ the setting to persist across reboots.\\\\\\n      \\\\ However, for some reason\\\n    \\ the persistence part did not work.\\\\\\n\\\\\\nFor now,\\\\\\n      \\\\ would you like\\\n    \\ to enable the setting again until the next reboot?\\\\\\\"\\n    then\\n\\\\\\n     \\\n    \\ \\\\        pkexec sh -c 'sysctl -w abi.vsyscall32=0'\\n    fi\\n    exit 0\\nfi\\n\\\n    \\\\\\n      \\nonce=\\\\\\\"Change setting until next reboot\\\\\\\"\\npersist=\\\\\\\"Change\\\n    \\ setting and persist\\\\\\n      \\\\ after reboot\\\\\\\"\\nmanual=\\\\\\\"Show me the commands;\\\n    \\ I'll handle it myself\\\\\\\"\\n\\n\\\\\\n      if dialog --question --text=\\\\\\\"League\\\n    \\ of Legends' anticheat requires using a\\\\\\n      \\\\ modified version of wine\\\n    \\ and changing a system setting. Otherwise, the game\\\\\\n      \\\\ will crash after\\\n    \\ champion select. Wine-lol comes with the Lutris installer,\\\\\\n      \\\\ but as\\\n    \\ far as this script can detect, the setting has not been changed yet.\\\\\\\\\\\\\\n\\\n    \\      nNote: The setting (abi.vsyscall32=0) may reduce the performance of some\\\n    \\ 32\\\\\\n      \\\\ bit applications.\\\\\\n\\\\\\nWould you like to change the setting\\\n    \\ now?\\\\\\\"\\nthen\\n\\\\\\n      \\\\    # I tried to embed the command in the dialog\\\n    \\ and run the output, but\\n\\\\\\n      \\\\    # parsing variables with embedded quotes\\\n    \\ is an excercise in frustration.\\n\\\\\\n      \\\\    RESULT=$(dialog --list --radiolist\\\n    \\ --height=\\\\\\\"200\\\\\\\" \\\\\\\\\\n        --column=\\\\\\\"\\\\\\n      \\\\\\\" --column=\\\\\\\"\\\n    Command\\\\\\\" \\\\\\\\\\n        \\\\\\\"TRUE\\\\\\\" \\\\\\\"$once\\\\\\\" \\\\\\\\\\n        \\\\\\\"FALSE\\\\\\\n    \\\"\\\\\\n      \\\\ \\\\\\\"$persist\\\\\\\" \\\\\\\\\\n        \\\\\\\"FALSE\\\\\\\" \\\\\\\"$manual\\\\\\\")\\n\\\n    \\n    case \\\\\\\"$RESULT\\\\\\\" in\\n\\\\\\n      \\\\        \\\\\\\"$once\\\\\\\")\\n          \\\n    \\  pkexec sh -c 'sysctl -w abi.vsyscall32=0'\\n\\\\\\n      \\\\            ;;\\n   \\\n    \\     \\\\\\\"$persist\\\\\\\")\\n            pkexec sh -c 'echo \\\\\\\"abi.vsyscall32\\\\\\n\\\n    \\      \\\\ = 0\\\\\\\" >> /etc/sysctl.conf && sysctl -p'\\n            ;;\\n        \\\\\\\n    \\\"$manual\\\\\\\"\\\\\\n      )\\n            dialog --info --no-wrap --text=\\\\\\\"To change\\\n    \\ the setting (a kernel\\\\\\n      \\\\ parameter) until next boot, run:\\\\\\n\\\\\\nsudo\\\n    \\ sh -c 'sysctl -w abi.vsyscall32=0'\\\\\\\\\\\\\\n      n\\\\\\nTo persist the setting\\\n    \\ between reboots, run:\\\\\\n\\\\\\nsudo sh -c 'echo \\\\\\\\\\\\\\\"\\\\\\n      abi.vsyscall32\\\n    \\ = 0\\\\\\\\\\\\\\\" >> /etc/sysctl.conf &amp;&amp; sysctl -p'\\\\\\\"\\n       \\\\\\n     \\\n    \\ \\\\     # Anyone who wants to do it manually doesn't need another warning\\n \\\n    \\ \\\\\\n      \\\\          trap - EXIT\\n            ;;\\n        *)\\n            echo\\\n    \\ \\\\\\\"Dialog\\\\\\n      \\\\ canceled or unknown option selected: $RESULT\\\\\\\"\\n  \\\n    \\          ;;\\n    esac\\n\\\\\\n      fi\\n\\\"\\n    file: $GAMEDIR/syscall_check.sh\\n\\\n    - chmodx: $GAMEDIR/syscall_check.sh\\nsystem:\\n  disable_compositor: true\\n  env:\\n\\\n    \\    DXVK_LOG_LEVEL: none\\n    DXVK_STATE_CACHE_PATH: $GAMEDIR\\n    STAGING_SHARED_MEMORY:\\\n    \\ 1\\n    WINE_LARGE_ADDRESS_AWARE: 1\\n    __GL_SHADER_DISK_CACHE: 1\\n    __GL_SHADER_DISK_CACHE_PATH:\\\n    \\ $GAMEDIR\\n  prelaunch_command: $GAMEDIR/syscall_check.sh\\nwine:\\n  MouseWarpOverride:\\\n    \\ enable\\n  d9vk: true\\n  version: lutris-lol-4.20-x86_64\\n\"\n  created_at: '2019-10-20T01:22:33.971000Z'\n  description: LoL with vsyscall32 override and d9vk\n  draft: false\n  game_id: 2424\n  game_slug: my-test-lol\n  gogid: null\n  gogslug: ''\n  humblestoreid: ''\n  id: 16308\n  name: League of Legends\n  notes: 'IMPORTANT: Uncheck ''Launch League of Legends now?'' at the end of the League\n    install wizard.'\n  published: true\n  published_by: 51687\n  rating: '4'\n  runner: wine\n  script:\n    files:\n    - lol_installer: https://riotgamespatcher-a.akamaihd.net/releases/live/installer/deploy/League%20of%20Legends%20installer%20NA.exe\n    game:\n      exe: $GAMEDIR/drive_c/Riot Games/League of Legends/LeagueClient.exe\n      prefix: $GAMEDIR\n    installer:\n    - input_menu:\n        description: 'Choose the game''s language:'\n        id: LOCALE\n        options:\n        - cs_CZ: \"\\u010Ce\\u0161tina\"\n        - en_AU: English AUS\n        - en_GB: English U.K.\n        - en_US: English U.S.\n        - fr_FR: \"Fran\\xE7ais\"\n        - de_DE: Deutsch\n        - es_ES: \"Espa\\xF1ol\"\n        - es_MX: \"Espa\\xF1ol Mexicano\"\n        - it_IT: Italiano\n        - ja_JP: \"\\u65E5\\u672C\\u8A9E\"\n        - hu_HU: Magyar\n        - pl_PL: Polski\n        - pt_BR: \"Portugu\\xEAs do Brasil\"\n        - ro_RO: Romanian\n        - ru_RU: \"\\u0440\\u0443\\u0441\\u0441\\u043A\\u0438\\u0439\"\n        - tr_TR: \"T\\xFCrk\\xE7e\"\n        preselect: en_US\n    - input_menu:\n        description: 'Choose the game''s server region:'\n        id: REGION\n        options:\n        - BR: Brazil\n        - EUNE: Europe Nordic & East\n        - EUW: Europe West\n        - LAN: Latin America North\n        - LAS: Latin America South\n        - NA: North America\n        - OCE: Oceania\n        - RU: Russia\n        - TR: Turkey\n        - JP: Japan\n        - SEA: South East Asia\n        preselect: NA\n    - execute:\n        args: wine wineboot\n        description: Setting up wine prefix\n        env:\n          WINEARCH: win32\n          WINEPREFIX: $GAMEDIR\n    - task:\n        app: d3dcompiler_43 d3dx9\n        arch: win32\n        name: winetricks\n        prefix: $GAMEDIR\n    - task:\n        arch: win32\n        description: Installing League of Legends\n        executable: lol_installer\n        name: wineexec\n        prefix: $GAMEDIR\n    - task:\n        arch: win32\n        name: winekill\n        prefix: $GAMEDIR\n    - task:\n        arch: win32\n        key: GrabFullScreen\n        name: set_regedit\n        path: HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver\n        prefix: $GAMEDIR\n        value: Y\n    - task:\n        arch: win32\n        key: UseXVidMode\n        name: set_regedit\n        path: HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver\n        prefix: $GAMEDIR\n        value: N\n    - write_file:\n        content:\n          install:\n            globals:\n              locale: $INPUT_LOCALE\n              region: $INPUT_REGION\n        file: $GAMEDIR/drive_c/Riot Games/League of Legends/Config/LeagueClientSettings.yaml\n    - task:\n        arch: win32\n        name: winekill\n        prefix: $GAMEDIR\n    - write_file:\n        content: \"#!/usr/bin/env sh\\n\\n# If abi.vsyscall32=0 is already set, no need\\\n          \\ to do anything\\nif [ \\\"$(cat /proc/sys/abi/vsyscall32)\\\" -eq 0 ]; then\\n\\\n          \\    exit 0\\nfi\\n\\ndialog() {\\n    zenity \\\"$@\\\" --icon-name='lutris' --width=\\\"\\\n          400\\\" --title=\\\"League of Legends anticheat compatibility check\\\"\\n}\\n\\n\\\n          final_check() {\\n    if [ \\\"$(cat /proc/sys/abi/vsyscall32)\\\" -ne 0 ]; then\\n\\\n          \\        dialog --warning --text=\\\"As far as this script can detect, your\\\n          \\ system is not configured to work with League's anticheat. Please verify\\\n          \\ that you can get into the practice too before playing a multiplayer game.\\\"\\\n          \\n    fi\\n}\\n\\ntrap final_check EXIT\\n\\nif grep -E -x -q \\\"abi.vsyscall32(\\\n          \\ )?=( )?0\\\" /etc/sysctl.conf; then\\n    if dialog --question --text=\\\"\\\n          It looks like you already configured your system to work with League anticheat,\\\n          \\ and saved the setting to persist across reboots. However, for some reason\\\n          \\ the persistence part did not work.\\n\\nFor now, would you like to enable\\\n          \\ the setting again until the next reboot?\\\"\\n    then\\n        pkexec sh\\\n          \\ -c 'sysctl -w abi.vsyscall32=0'\\n    fi\\n    exit 0\\nfi\\n\\nonce=\\\"Change\\\n          \\ setting until next reboot\\\"\\npersist=\\\"Change setting and persist after\\\n          \\ reboot\\\"\\nmanual=\\\"Show me the commands; I'll handle it myself\\\"\\n\\nif\\\n          \\ dialog --question --text=\\\"League of Legends' anticheat requires using\\\n          \\ a modified version of wine and changing a system setting. Otherwise, the\\\n          \\ game will crash after champion select. Wine-lol comes with the Lutris\\\n          \\ installer, but as far as this script can detect, the setting has not been\\\n          \\ changed yet.\\nNote: The setting (abi.vsyscall32=0) may reduce the performance\\\n          \\ of some 32 bit applications.\\n\\nWould you like to change the setting now?\\\"\\\n          \\nthen\\n    # I tried to embed the command in the dialog and run the output,\\\n          \\ but\\n    # parsing variables with embedded quotes is an excercise in frustration.\\n\\\n          \\    RESULT=$(dialog --list --radiolist --height=\\\"200\\\" \\\\\\n        --column=\\\"\\\n          \\\" --column=\\\"Command\\\" \\\\\\n        \\\"TRUE\\\" \\\"$once\\\" \\\\\\n        \\\"FALSE\\\"\\\n          \\ \\\"$persist\\\" \\\\\\n        \\\"FALSE\\\" \\\"$manual\\\")\\n\\n    case \\\"$RESULT\\\"\\\n          \\ in\\n        \\\"$once\\\")\\n            pkexec sh -c 'sysctl -w abi.vsyscall32=0'\\n\\\n          \\            ;;\\n        \\\"$persist\\\")\\n            pkexec sh -c 'echo \\\"\\\n          abi.vsyscall32 = 0\\\" >> /etc/sysctl.conf && sysctl -p'\\n            ;;\\n\\\n          \\        \\\"$manual\\\")\\n            dialog --info --no-wrap --text=\\\"To change\\\n          \\ the setting (a kernel parameter) until next boot, run:\\n\\nsudo sh -c 'sysctl\\\n          \\ -w abi.vsyscall32=0'\\n\\nTo persist the setting between reboots, run:\\n\\\n          \\nsudo sh -c 'echo \\\\\\\"abi.vsyscall32 = 0\\\\\\\" >> /etc/sysctl.conf &amp;&amp;\\\n          \\ sysctl -p'\\\"\\n            # Anyone who wants to do it manually doesn't\\\n          \\ need another warning\\n            trap - EXIT\\n            ;;\\n      \\\n          \\  *)\\n            echo \\\"Dialog canceled or unknown option selected: $RESULT\\\"\\\n          \\n            ;;\\n    esac\\nfi\\n\"\n        file: $GAMEDIR/syscall_check.sh\n    - chmodx: $GAMEDIR/syscall_check.sh\n    system:\n      disable_compositor: true\n      env:\n        DXVK_LOG_LEVEL: none\n        DXVK_STATE_CACHE_PATH: $GAMEDIR\n        STAGING_SHARED_MEMORY: 1\n        WINE_LARGE_ADDRESS_AWARE: 1\n        __GL_SHADER_DISK_CACHE: 1\n        __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR\n      prelaunch_command: $GAMEDIR/syscall_check.sh\n    wine:\n      MouseWarpOverride: enable\n      d9vk: true\n      version: lutris-lol-4.20-x86_64\n  slug: league-of-legends-vsyscall32-override-\n  steamid: 20590\n  updated_at: '2019-11-24T01:38:27.516741Z'\n  user: GloriousEggroll\n  version: vsyscall32 override w/d9vk\n  year: 2009\n"
}