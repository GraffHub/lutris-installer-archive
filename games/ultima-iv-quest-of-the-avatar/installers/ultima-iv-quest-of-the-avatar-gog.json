{
  "id": 5446,
  "game_id": 13604,
  "game_slug": "ultima-iv-quest-of-the-avatar",
  "name": "Ultima IV: Quest of the Avatar",
  "year": 1985,
  "user": "FakeShemp",
  "runner": "dosbox",
  "slug": "ultima-iv-quest-of-the-avatar-gog",
  "version": "GOG",
  "description": "This script will facilitate you install of this game on Linux OS:\r\n\"Ultima IV - Quest of the Avatar\" GOG edition with DOSBox runner.\r\nDuring install please let all options by default.\r\nBig thanks to people who gave their time to permit us playing this game in the best conditions on Linux platform.",
  "notes": "- Please report issue concerning this script on my Github page:\r\nhttps://github.com/legluondunet/MyLittleLutrisScripts/",
  "created_at": "2017-08-21T12:25:36.651000Z",
  "updated_at": "2020-05-01T00:25:22.135793Z",
  "draft": false,
  "published": true,
  "published_by": 494,
  "rating": "",
  "steamid": null,
  "gogid": 1207658962,
  "gogslug": "ultima_4",
  "humblestoreid": "",
  "script": {
    "custom-name": "Ultima IV - Quest of the Avatar - GOG - DOSBox",
    "files": [
      {
        "gamesetup": "N/A:Please select the Windows setup exe file downloaded from your GOG account."
      },
      {
        "inno": "http://constexpr.org/innoextract/files/snapshots/innoextract-1.8-dev-2019-01-13/innoextract-1.8-dev-2019-01-13-linux.tar.xz"
      }
    ],
    "game": {
      "main_file": "dosbox_conf/dosboxULTIMA4_single.conf",
      "config_file": "$GAMEDIR/dosbox_conf/dosboxULTIMA4.conf"
    },
    "installer": [
      {
        "extract": {
          "file": "inno",
          "dst": "$CACHE"
        }
      },
      {
        "execute": {
          "file": "$CACHE/innoextract",
          "args": "-d \"$GAMEDIR\" \"$gamesetup\""
        }
      },
      {
        "merge": {
          "src": "$GAMEDIR/__support/save/",
          "dst": "$GAMEDIR/"
        }
      },
      {
        "merge": {
          "src": "$GAMEDIR/__support/app",
          "dst": "$GAMEDIR/dosbox_conf"
        }
      },
      {
        "execute": {
          "command": "cd \"$GAMEDIR\"; rm -f -r app/ commonappdata/ DOSBOX/ __redist/ __support/ tmp/ goggame-1207658962.*; cd dosbox_conf; sed -i -e 's/fullscreen=true/fullscreen=false/g' -e 's/fulldouble=false/fulldouble=true/g' -e 's/output=overlay/output=opengl/g' -e 's/aspect=.*/aspect=true/g' -e 's/mididevice=default/mididevice=none/g' dosboxULTIMA4.conf;"
        }
      }
    ]
  },
  "content": "custom-name: Ultima IV - Quest of the Avatar - GOG - DOSBox\nfiles:\n- gamesetup: N/A:Please select the Windows setup exe file downloaded from your GOG\n    account.\n- inno: http://constexpr.org/innoextract/files/snapshots/innoextract-1.8-dev-2019-01-13/innoextract-1.8-dev-2019-01-13-linux.tar.xz\ngame:\n  config_file: $GAMEDIR/dosbox_conf/dosboxULTIMA4.conf\n  main_file: dosbox_conf/dosboxULTIMA4_single.conf\ninstaller:\n- extract:\n    dst: $CACHE\n    file: inno\n- execute:\n    args: -d \"$GAMEDIR\" \"$gamesetup\"\n    file: $CACHE/innoextract\n- merge:\n    dst: $GAMEDIR/\n    src: $GAMEDIR/__support/save/\n- merge:\n    dst: $GAMEDIR/dosbox_conf\n    src: $GAMEDIR/__support/app\n- execute:\n    command: cd \"$GAMEDIR\"; rm -f -r app/ commonappdata/ DOSBOX/ __redist/ __support/\n      tmp/ goggame-1207658962.*; cd dosbox_conf; sed -i -e 's/fullscreen=true/fullscreen=false/g'\n      -e 's/fulldouble=false/fulldouble=true/g' -e 's/output=overlay/output=opengl/g'\n      -e 's/aspect=.*/aspect=true/g' -e 's/mididevice=default/mididevice=none/g' dosboxULTIMA4.conf;\n"
}