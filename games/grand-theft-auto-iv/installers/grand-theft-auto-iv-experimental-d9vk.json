{
  "id": 13478,
  "game_id": 391,
  "game_slug": "grand-theft-auto-iv",
  "name": "Grand Theft Auto IV",
  "year": 2008,
  "user": "maltahl",
  "runner": "winesteam",
  "slug": "grand-theft-auto-iv-experimental-d9vk",
  "version": "Experimental D9VK",
  "description": "Includes xlive patch to circumvent GFWL.\r\nUses D9VK (Direct3D9 to Vulkan) by Joshua Ashton.",
  "notes": "Online play is disabled due to xlive patch.\r\n**CONFIGURE AND INSTALL THE DEPENDENCIES FIRST**\r\nInstructions for Vulkan drivers (for D9VK support): https://github.com/lutris/lutris/wiki/Installing-drivers",
  "created_at": "2019-05-12T13:38:58.275000Z",
  "updated_at": "2019-05-30T22:32:21.630982Z",
  "draft": false,
  "published": true,
  "published_by": 51687,
  "rating": "",
  "steamid": 12210,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "grand-theft-auto-iv",
  "script": {
    "game": {
      "prefix": "$GAMEDIR/prefix",
      "appid": 12210
    },
    "files": [
      {
        "xlive": "https://github.com/AccountOneOff/lutris_files/raw/master/xlive.dll"
      },
      {
        "d9vk": "https://github.com/Joshua-Ashton/d9vk/releases/download/0.10/d9vk-0.10.tar.gz"
      }
    ],
    "system": {
      "env": {
        "DXVK_LOG_LEVEL": "none",
        "__GL_SHADER_DISK_CACHE": 1,
        "__GL_SHADER_DISK_CACHE_PATH": "$GAMEDIR",
        "DXVK_HUD": 0,
        "DXVK_STATE_CACHE_PATH": "$GAMEDIR"
      }
    },
    "installer": [
      {
        "task": {
          "prefix": "$GAMEDIR/prefix",
          "name": "create_prefix"
        }
      },
      {
        "extract": {
          "dst": "$CACHE/d9vk-0.10/",
          "file": "d9vk"
        }
      },
      {
        "move": {
          "dst": "$HOME/.local/share/lutris/runtime/dxvk/d9vk-0.10/",
          "src": "$CACHE/d9vk-0.10/"
        }
      },
      {
        "merge": {
          "dst": "$GAMEDIR/GTAIV",
          "src": "$xlive"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      },
      {
        "task": {
          "path": "HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver",
          "prefix": "$GAMEDIR",
          "key": "GrabFullScreen",
          "name": "set_regedit",
          "value": "Y"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill"
        }
      }
    ],
    "wine": {
      "MouseWarpOverride": "enable",
      "dxvk_version": "d9vk-0.10",
      "UseGLSL": "disabled",
      "overrides": {
        "msvcp140": "native"
      },
      "dxvk": true,
      "version": "ge-protonified-4.9-x86_64"
    }
  },
  "content": "files:\n- xlive: https://github.com/AccountOneOff/lutris_files/raw/master/xlive.dll\n- d9vk: https://github.com/Joshua-Ashton/d9vk/releases/download/0.10/d9vk-0.10.tar.gz\ngame:\n  appid: 12210\n  prefix: $GAMEDIR/prefix\ninstaller:\n- task:\n    name: create_prefix\n    prefix: $GAMEDIR/prefix\n- extract:\n    dst: $CACHE/d9vk-0.10/\n    file: d9vk\n- move:\n    dst: $HOME/.local/share/lutris/runtime/dxvk/d9vk-0.10/\n    src: $CACHE/d9vk-0.10/\n- merge:\n    dst: $GAMEDIR/GTAIV\n    src: $xlive\n- task:\n    name: winekill\n    prefix: $GAMEDIR\n- task:\n    key: GrabFullScreen\n    name: set_regedit\n    path: HKEY_CURRENT_USER\\Software\\Wine\\X11 Driver\n    prefix: $GAMEDIR\n    value: Y\n- task:\n    name: winekill\n    prefix: $GAMEDIR\nsystem:\n  env:\n    DXVK_HUD: 0\n    DXVK_LOG_LEVEL: none\n    DXVK_STATE_CACHE_PATH: $GAMEDIR\n    __GL_SHADER_DISK_CACHE: 1\n    __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR\nwine:\n  MouseWarpOverride: enable\n  UseGLSL: disabled\n  dxvk: true\n  dxvk_version: d9vk-0.10\n  overrides:\n    msvcp140: native\n  version: ge-protonified-4.9-x86_64\n"
}