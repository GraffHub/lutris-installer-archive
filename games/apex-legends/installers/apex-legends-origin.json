{
  "id": 11844,
  "game_id": 25594,
  "game_slug": "apex-legends",
  "name": "Apex Legends",
  "year": 2019,
  "user": "Farcrada",
  "runner": "wine",
  "slug": "apex-legends-origin",
  "version": "Origin",
  "description": "The game does not work due to Easy Anti Cheat. Please let know Electronic Arts that you are interested in playing on Linux. Electronic Arts has the resources to support Linux easily, the more people ask for support, the more it is likely to have a native version.",
  "notes": "Please read before installing: <a href=\"https://github.com/lutris/lutris/wiki/Game:-Origin\">https://github.com/lutris/lutris/wiki/Game:-Origin</a>\r\n\r\nSeeing as these are the same devs and it's using the same engine as <a href=\"https://lutris.net/games/titanfall-2/\">Titanfall 2</a> there might be some issues with sound. Crackling sound can be fixed by adding <a href=\"https://kodi.wiki/view/PulseAudio#Known_issues\">tsched=0</a> to the file: <tt>/etc/pulse/default.pa</tt>",
  "created_at": "2019-02-04T22:01:18.400000Z",
  "updated_at": "2020-01-23T02:56:50.468629Z",
  "draft": false,
  "published": true,
  "published_by": 19464,
  "rating": "1",
  "steamid": null,
  "gogid": null,
  "gogslug": "",
  "humblestoreid": "",
  "script": {
    "files": [
      {
        "client": "https://origin-a.akamaihd.net/Origin-Client-Download/origin/live/OriginThinSetup.exe"
      },
      {
        "updater": "https://raw.githubusercontent.com/DrDoctor13/wine-origin-updater/master/updateorigin.sh"
      }
    ],
    "installer": [
      {
        "task": {
          "description": "Creating Wine prefix",
          "name": "create_prefix",
          "arch": "win64",
          "prefix": "$GAMEDIR"
        }
      },
      {
        "execute": {
          "command": "mkdir \"$GAMEDIR/nv-shaders\""
        }
      },
      {
        "input_menu": {
          "options": [
            {
              "#Not needed for AMD. Ignore this.\n#d3d11.zeroInitWorkgroupMemory = False": "AMD"
            },
            {
              "Fixes fps issues on menus.\nd3d11.zeroInitWorkgroupMemory = True": "Nvidia"
            }
          ],
          "description": "Setting DXVK workarounds please choose your GPU:",
          "preselect": "#Not needed for AMD. Ignore this.\n#d3d11.zeroInitWorkgroupMemory = False",
          "id": "GPU"
        }
      },
      {
        "write_file": {
          "content": "$INPUT_GPU",
          "file": "$GAMEDIR/dxvk.conf"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winetricks",
          "arch": "win64",
          "app": "nocrashdialog vcrun2017 win7"
        }
      },
      {
        "task": {
          "description": "Installing Origin... Login window will pop-up and close.",
          "name": "wineexec",
          "arch": "win64",
          "executable": "client",
          "args": "/silent",
          "prefix": "$GAMEDIR",
          "exclude_processes": "Origin.exe OriginClientService.exe OriginWebHelperService.exe QtWebEngineProcess.exe"
        }
      },
      {
        "task": {
          "prefix": "$GAMEDIR",
          "name": "winekill",
          "arch": "win64"
        }
      },
      {
        "chmodx": "updater"
      },
      {
        "merge": {
          "dst": "$GAMEDIR/drive_c/Program Files (x86)/Origin",
          "src": "updater"
        }
      }
    ],
    "game": {
      "prefix": "$GAMEDIR",
      "arch": "win64",
      "exe": "drive_c/Program Files (x86)/Origin/Origin.exe"
    },
    "system": {
      "exclude_processes": "QtWebEngineProcess.exe ActivationUI.exe OriginWebHelperService.exe",
      "env": {
        "DXVK_CONFIG_FILE": "$GAMEDIR/dxvk.conf",
        "__GL_SHADER_DISK_CACHE_PATH": "$GAMEDIR/nv-shaders",
        "DXVK_HUD": 0,
        "__GL_SHADER_DISK_CACHE": 1,
        "STAGING_SHARED_MEMORY": "0"
      }
    },
    "wine": {
      "dxvk": true,
      "overrides": {
        "nvapi,nvapi64": "disabled",
        "xaudio2_7": "native,builtin"
      }
    }
  },
  "content": "files:\n- client: https://origin-a.akamaihd.net/Origin-Client-Download/origin/live/OriginThinSetup.exe\n- updater: https://raw.githubusercontent.com/DrDoctor13/wine-origin-updater/master/updateorigin.sh\ngame:\n  arch: win64\n  exe: drive_c/Program Files (x86)/Origin/Origin.exe\n  prefix: $GAMEDIR\ninstaller:\n- task:\n    arch: win64\n    description: Creating Wine prefix\n    name: create_prefix\n    prefix: $GAMEDIR\n- execute:\n    command: mkdir \"$GAMEDIR/nv-shaders\"\n- input_menu:\n    description: 'Setting DXVK workarounds please choose your GPU:'\n    id: GPU\n    options:\n    - ? '#Not needed for AMD. Ignore this.\n\n        #d3d11.zeroInitWorkgroupMemory = False'\n      : AMD\n    - ? 'Fixes fps issues on menus.\n\n        d3d11.zeroInitWorkgroupMemory = True'\n      : Nvidia\n    preselect: '#Not needed for AMD. Ignore this.\n\n      #d3d11.zeroInitWorkgroupMemory = False'\n- write_file:\n    content: $INPUT_GPU\n    file: $GAMEDIR/dxvk.conf\n- task:\n    app: nocrashdialog vcrun2017 win7\n    arch: win64\n    name: winetricks\n    prefix: $GAMEDIR\n- task:\n    arch: win64\n    args: /silent\n    description: Installing Origin... Login window will pop-up and close.\n    exclude_processes: Origin.exe OriginClientService.exe OriginWebHelperService.exe\n      QtWebEngineProcess.exe\n    executable: client\n    name: wineexec\n    prefix: $GAMEDIR\n- task:\n    arch: win64\n    name: winekill\n    prefix: $GAMEDIR\n- chmodx: updater\n- merge:\n    dst: $GAMEDIR/drive_c/Program Files (x86)/Origin\n    src: updater\nsystem:\n  env:\n    DXVK_CONFIG_FILE: $GAMEDIR/dxvk.conf\n    DXVK_HUD: 0\n    STAGING_SHARED_MEMORY: '0'\n    __GL_SHADER_DISK_CACHE: 1\n    __GL_SHADER_DISK_CACHE_PATH: $GAMEDIR/nv-shaders\n  exclude_processes: QtWebEngineProcess.exe ActivationUI.exe OriginWebHelperService.exe\nwine:\n  dxvk: true\n  overrides:\n    nvapi,nvapi64: disabled\n    xaudio2_7: native,builtin\n"
}